!function(e){"use strict";function t(e,t,a="red",l="1%",n="1",r="",s=!0,i="",p=""){Array.isArray(t)&&(t={x:t[0],y:t[1]});let h=`<circle class="${p}" opacity="${n}" id="${i}" cx="${t.x}" cy="${t.y}" r="${l}" fill="${a}">\n  <title>${r}</title></circle>`;if(!s)return h;e.insertAdjacentHTML("beforeend",h)}function a(e,t="",a="green",l="1%",n="1",r=!0){let s=`<path d="${t}" fill="none" stroke="${a}"  stroke-width="${l}" stroke-opacity="${n}" /> `;if(!r)return s;e.insertAdjacentHTML("beforeend",s)}const{abs:l,acos:n,asin:r,atan:s,atan2:i,ceil:p,cos:h,exp:u,floor:o,log:y,max:c,min:x,pow:g,random:f,round:d,sin:m,sqrt:v,tan:M,PI:b}=Math;function A(e,t,a=!1){let l=i(t.y-e.y,t.x-e.x);return a&&l<0&&(l+=2*Math.PI),l}function C(e,t,a,l=!1){let n=Math.atan2(t.y-e.y,t.x-e.x),r=Math.atan2(a.y-e.y,a.x-e.x),s=r-n;s=(e=>{let t=e%(2*Math.PI);return t>Math.PI?t-=2*Math.PI:t<=-Math.PI&&(t+=2*Math.PI),t})(s),l&&(s=2*Math.PI-Math.abs(s));let i=180/Math.PI;return{startAngle:n,endAngle:r,deltaAngle:s,startAngleDeg:n*i,endAngleDeg:r*i,deltaAngleDeg:s*i}}function w(e=null,t=null,a=null,l=null,n=!0,r=!1){let s,i,p,h,u,o={};if(!(e&&t&&a&&l))return r&&console.warn("points missing"),!1;try{if(s=(l.y-a.y)*(t.x-e.x)-(l.x-a.x)*(t.y-e.y),0==s)return!1}catch{return r&&console.warn("!catch",e,t,"p3:",a,"p4:",l),!1}i=e.y-a.y,p=e.x-a.x,h=(l.x-a.x)*i-(l.y-a.y)*p,u=(t.x-e.x)*i-(t.y-e.y)*p,i=h/s,p=u/s,o={x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)};let y=!1;return i>0&&i<1&&p>0&&p<1&&(y=!0),!(n&&!y)&&o}function L(e,t){return v((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function P(e,t){return(t.x-e.x)**2+(t.y-e.y)**2}function S(e,t,a,l=!1){let n={x:(t.x-e.x)*a+e.x,y:(t.y-e.y)*a+e.y};return l&&(n.angle=A(e,t),n.angle<0&&(n.angle+=2*b)),n}function E(e,t=.5,a=!1,l=!1){let n;return n=e.length>2?((e,t,a=!1)=>{let n=4===e.length,r=e[0],s=e[1],i=n?e[2]:e[1],p=e[e.length-1],h={x:0,y:0};if(a||l){let e,a,u,o,y,c=r.x===s.x&&r.y===s.y,x=p.x===i.x&&p.y===i.y;0!==t||c?1!==t||x?(c&&(t+=1e-7),x&&(t-=1e-7),e=S(r,s,t),n?(a=S(s,i,t),u=S(i,p,t),o=S(e,a,t),y=S(a,u,t),h=S(o,y,t),h.angle=A(o,y),l&&(h.cpts=[a,u,o,y])):(a=S(r,s,t),u=S(s,p,t),h=S(a,u,t),h.angle=A(a,u),l&&(h.cpts=[a,u]))):(h.x=p.x,h.y=p.y,h.angle=A(i,p)):(h.x=r.x,h.y=r.y,h.angle=A(r,s))}else{let e=1-t;h=n?{x:e**3*r.x+3*e**2*t*s.x+3*e*t**2*i.x+t**3*p.x,y:e**3*r.y+3*e**2*t*s.y+3*e*t**2*i.y+t**3*p.y}:{x:e*e*r.x+2*e*t*s.x+t**2*p.x,y:e*e*r.y+2*e*t*s.y+t**2*p.y}}return h})(e,t,a):S(e[0],e[1],t,a),a&&n.angle<0&&(n.angle+=2*b),n}function k(e){let t=[],a={x:e[0].values[0],y:e[0].values[1]};return e.forEach(e=>{let{type:l,values:n}=e;if(n.length){let e=n.length>1?{x:n[n.length-2],y:n[n.length-1]}:"V"===l?{x:a.x,y:n[0]}:{x:n[0],y:a.y};t.push(e),a=e}}),t}function I(e,t,a,n,r,s,p,h,u){const o=(e,t,a,l)=>i(l-t,a-e);let y={cx:0,cy:0,rx:a=l(a),ry:n=l(n),startAngle:0,endAngle:0,deltaAngle:0,clockwise:p,xAxisRotation:r,largeArc:s,sweep:p};if(0==a||0==n)throw Error("rx and ry can not be 0");if(a===n){let a=Math.abs(h-e),l=Math.abs(u-t),n=a,r=Math.min(e,h),s=Math.min(t,u),i=.5*Math.PI;if(0===a&&l||0===l&&a)return n=0===a&&l?l/2:a/2,y.rx=n,y.ry=n,0===a&&l?(y.cx=e,y.cy=s+l/2,y.startAngle=t>u?i:-i,y.endAngle=t>u?-i:i,y.deltaAngle=p?Math.PI:-Math.PI):0===l&&a&&(y.cx=r+a/2,y.cy=t,y.startAngle=e>h?Math.PI:0,y.endAngle=e>h?-Math.PI:Math.PI,y.deltaAngle=p?Math.PI:-Math.PI),y}let c,x,g=a===n?0:r*b/180,f=g?Math.sin(g):0,d=g?Math.cos(g):1,m=(e-h)/2,v=(t-u)/2,M=(e+h)/2,A=(t+u)/2,C=g?d*m+f*v:m,w=g?d*v-f*m:v,L=C*C/(a*a)+w*w/(n*n);L>1&&(a*=Math.sqrt(L),n*=Math.sqrt(L),y.rx=a,y.ry=n);let P=a*n,S=a*w,E=n*C,k=S**2+E**2;if(!k)throw Error("start point can not be same as end point");let I=Math.sqrt(Math.abs((P*P-k)/k));s==p&&(I=-I);let F=I*S/n,$=-I*E/a;c=g?d*F-f*$+M:M+F,x=g?f*F+d*$+A:A+$,y.cy=x,y.cx=c;let D=o(c,x,e,t),q=o(c,x,h,u);!p&&q>D&&(q-=2*Math.PI),p&&D>q&&(q=q<=0?q+2*Math.PI:q);let T=q-D;return y.startAngle=D,y.endAngle=q,y.deltaAngle=T,y}function F(e,t,a,l=0,n=!1){return l?(l=n?l/180*Math.PI:l,{x:t+(e.x-t)*Math.cos(l)-(e.y-a)*Math.sin(l),y:a+(e.x-t)*Math.sin(l)+(e.y-a)*Math.cos(l)}):e}function $(e,t,a,l,n,r=0,i=!0,p=!1){if(n=p?n*b/180:n,r=p?r*b/180:r,r=a!==l&&r!==2*b?r:0,i&&a!==l){let e=s(M(n=r?n-r:n)*(a/l));n=h(n)<0?e+b:e}let u=e+a*h(n),o=t+l*m(n),y={x:u,y:o};return r&&(y.x=e+(u-e)*h(r)-(o-t)*m(r),y.y=t+(u-e)*m(r)+(o-t)*h(r)),y}function D(e,t,a){if(t===a||e%b*.5==0)return e;let l=s(M(e)*(t/a));return l=h(e)<0?l+b:l,l}function q(e=null,t=[],a=.05){e||(e=t[0],t=t.splice(1,t.length));let l=3===t.length,n=t[0]||null,r=l?t[1]:null,s=l?t[2]:t[1],i=.5*Math.PI,p=!1,h=!1,u=n?A(s,n,!0):null;if(p=Math.abs(u%i)<a||Math.abs(u%i-i)<a,l){let e=r?A(r,s,!0):0;h=Math.abs(e%i)<=a||Math.abs(e%i-i)<=a}return p||h}function T(e,{addExtremes:t=!0,addSemiExtremes:a=!1}={}){let l=4===e.length?function(e,t,a,l,{addExtremes:n=!0,addSemiExtremes:r=!1}={}){const s=e=>{const t=Math.PI/4,a=Math.cos(t),l=Math.sin(t);return{x:e.x*a-e.y*l,y:e.x*l+e.y*a}};r&&(e=s(e),t=s(t),a=s(a),l=s(l));let[i,p,h,u,o,y,c,x]=[e.x,e.y,t.x,t.y,a.x,a.y,l.x,l.y],g=Math.min(e.y,l.y),f=Math.min(e.x,l.x),d=Math.max(e.x,l.x),m=Math.max(e.y,l.y);if(t.y>=g&&t.y<=m&&a.y>=g&&a.y<=m&&t.x>=f&&t.x<=d&&a.x>=f&&a.x<=d)return[];let v,M,b,A,C,w,L,P,S=[];for(let e=0;e<2;++e)if(0==e?(M=6*i-12*h+6*o,v=-3*i+9*h-9*o+3*c,b=3*h-3*i):(M=6*p-12*u+6*y,v=-3*p+9*u-9*y+3*x,b=3*u-3*p),Math.abs(v)<1e-8){if(Math.abs(M)<1e-8)continue;A=-b/M,0<A&&A<1&&S.push(A)}else L=M*M-4*b*v,L<0?Math.abs(L)<1e-8&&(A=-M/(2*v),0<A&&A<1&&S.push(A)):(P=Math.sqrt(L),C=(-M+P)/(2*v),0<C&&C<1&&S.push(C),w=(-M-P)/(2*v),0<w&&w<1&&S.push(w));let E=S.length;for(;E--;)A=S[E];return S}(e[0],e[1],e[2],e[3],{addExtremes:t,addSemiExtremes:a}):function(e,t,a,{addExtremes:l=!0,addSemiExtremes:n=!1}={}){const r=e=>{const t=-Math.PI/4,a=Math.cos(t),l=Math.sin(t);return{x:e.x*a-e.y*l,y:e.x*l+e.y*a}};n&&(e=r(e),t=r(t),a=r(a));let s,i,p,h=Math.min(e.y,a.y),u=Math.min(e.x,a.x),o=Math.max(e.x,a.x),y=Math.max(e.y,a.y);if(t.y>=h&&t.y<=y&&t.x>=u&&t.x<=o)return[];let[c,x,g,f,d,m]=[e.x,e.y,t.x,t.y,a.x,a.y],v=[];for(let e=0;e<2;++e)s=0==e?c-2*g+d:x-2*f+m,i=0==e?-2*c+2*g:-2*x+2*f,Math.abs(s)>1e-12&&(p=-i/(2*s),p>0&&p<1&&v.push(p));return v}(e[0],e[1],e[2],{addExtremes:t,addSemiExtremes:a});return l}function z(e,t){const a=(e,t,a,l,n,r)=>{var s=Math.cos(r),i=Math.sin(r),p=l*Math.cos(e),h=n*Math.sin(e);return{x:t+s*p-i*h,y:a+i*p+s*h}};let l,n,r,s,i,p=I(e.x,e.y,t[0],t[1],t[2],t[3],t[4],t[5],t[6]),{rx:h,ry:u,cx:o,cy:y,endAngle:c,deltaAngle:x}=p,g=t[2],f={x:t[5],y:t[6]},d=[f],m=g*Math.PI/180,v=Math.tan(m);i=Math.atan2(-u*v,h);let M=i,b=i+Math.PI,A=Math.atan2(u,h*v),C=A+Math.PI,w=[e.x,f.x],L=[e.y,f.y],P=Math.min(...w),S=Math.max(...w),E=Math.min(...L),k=Math.max(...L),F=a(c-.001*x,o,y,h,u,m),$=a(c-.999*x,o,y,h,u,m);return(F.x>S||$.x>S)&&(l=a(M,o,y,h,u,m),d.push(l)),(F.x<P||$.x<P)&&(n=a(b,o,y,h,u,m),d.push(n)),(F.y<E||$.y<E)&&(s=a(C,o,y,h,u,m),d.push(s)),(F.y>k||$.y>k)&&(r=a(A,o,y,h,u,m),d.push(r)),d}function Q(e,t=.001){let a=Math.PI/2,l=a/2;return!(Math.abs(e/a-Math.round(e/a))<t)&&Math.abs(e/l-Math.round(e/l))<t}function B(e,t){return(Math.abs(t.x-e.x)+Math.abs(t.y-e.y))/2}function j(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Z(e){let t=[],a=[e[0]],l=e.length;for(let n=1;n<l;n++){let l=e[n];"M"!==l.type&&"m"!==l.type||(t.push(a),a=[]),a.push(l)}return a.length&&t.push(a),t}function N(e,t){let a,l,n,r,s,i,p=[],h=[],u=e[0],o=e[1],y=e[e.length-2],c=e[e.length-1];return 4===e.length?(a=E([u,o],t),l=E([o,y],t),n=E([y,c],t),r=E([a,l],t),s=E([l,n],t),i=E([r,s],t),p.push({x:u.x,y:u.y},{x:a.x,y:a.y},{x:r.x,y:r.y},{x:i.x,y:i.y}),h.push({x:i.x,y:i.y},{x:s.x,y:s.y},{x:n.x,y:n.y},{x:c.x,y:c.y})):3===e.length?(l=E([u,o],t),n=E([o,c],t),i=E([l,n],t),p.push({x:u.x,y:u.y},{x:l.x,y:l.y},{x:i.x,y:i.y}),h.push({x:i.x,y:i.y},{x:n.x,y:n.y},{x:c.x,y:c.y})):2===e.length&&(l=E([u,c],t),p.push({x:u.x,y:u.y},{x:l.x,y:l.y}),h.push({x:l.x,y:l.y},{x:c.x,y:c.y})),[p,h]}function R(e,t,{tMin:a=0,tMax:l=1,addExtremes:n=!0,addSemiExtremes:r=!1}={}){let s=[],i=6===t.length?"C":"Q",p={x:t[0],y:t[1]},h="C"===i?{x:t[2],y:t[3]}:p,u={x:t[4],y:t[5]},o=0;let y="C"===i?[e,p,h,u]:[e,p,u],c=n?T(y,{addExtremes:n,addSemiExtremes:!1}):[],x=r?T(y,{addExtremes:n,addSemiExtremes:r}):[],g=Array.from(new Set([...c,...x])).sort();if(g=g.filter(e=>e>0&&e<1),g.length){let a=function(e,t,a,l=!0){let n=[];if(!a.length)return!1;let r,s,i,p=t.length,h={x:t[p-2],y:t[p-1]};2===t.length?i=[e,h]:4===t.length?(r={x:t[0],y:t[1]},i=[e,r,h]):6===t.length&&(r={x:t[0],y:t[1]},s={x:t[2],y:t[3]},i=[e,r,s,h]);if(a.length)if(1===a.length){let e=N(i,a[0]),t=e[0],l=e[1];n.push(t,l)}else{let e=a[0],t=N(i,e),l=t[0];n.push(l),i=t[1];for(let t=1;t<a.length;t++){e=a[t-1];let l=N(i,(a[t]-e)/(1-e));n.push(l[0]),t===a.length-1&&n.push(l[l.length-1]),i=l[1]}}if(l){let e,t,a=[];return n.forEach(l=>{e={type:"",values:[]},l.shift(),t=l.map(e=>Object.values(e)).flat(),e.values=t,3===l.length?e.type="C":2===l.length?e.type="Q":1===l.length&&(e.type="L"),a.push(e)}),a}return n}(e,t,g);s.push(...a),o+=a.length}else s.push({type:i,values:t});return{pathData:s,count:o}}function O(e,{tMin:t=0,tMax:a=1,addExtremes:l=!0,addSemiExtremes:n=!1}={}){let r=[e[0]],s={x:e[0].values[0],y:e[0].values[1]},i={x:e[0].values[0],y:e[0].values[1]},p=e.length;for(let h=1;p&&h<p;h++){let p=e[h],{type:u,values:o}=p,y=o.slice(-2);if(y[0],y[1],"C"!==u&&"Q"!==u)r.push(p);else if((l||n)&&("C"===u||"Q"===u)){let e=R(s,o,{tMin:t,tMax:a,addExtremes:l,addSemiExtremes:n}).pathData;r.push(...e)}s={x:y[0],y:y[1]},"z"===u.toLowerCase()?s=i:"M"===u&&(i={x:y[0],y:y[1]})}return r}function H(e,t=-1){let a=e.map(e=>e.x),l=e.map(e=>e.y),n=Math.min(...a),r=Math.max(...a),s=Math.min(...l),i=Math.max(...l),p={x:n,left:n,right:r,y:s,top:s,bottom:i,width:r-n,height:i-s};if(t>-1)for(let e in p)p[e]=+p[e].toFixed(t);return p}function U(e){let t=[];return e.forEach(e=>{let a=function(e){let t=function(e){let t=[];for(let a=0;a<e.length;a++){let l=e[a],n=a>0?e[a-1]:e[a],{type:r,values:s}=l,i={x:n.values[n.values.length-2],y:n.values[n.values.length-1]},p=s.length?{x:s[s.length-2],y:s[s.length-1]}:"",h=s.length?{x:s[0],y:s[1]}:"";switch(r){case"A":if("function"!=typeof arcToBezier){let e=L(i,p)/2,a=S(i,p,.5),l=$(a.x,a.y,e,e,0),n=$(a.x,a.y,e,e,Math.PI);t.push(l,n,p);break}arcToBezier(i,s).forEach(e=>{let a=e.values,l={x:a[0],y:a[1]},n={x:a[2],y:a[3]},r={x:a[4],y:a[5]};t.push(l,n,r)});break;case"C":let e={x:s[2],y:s[3]};t.push(h,e);break;case"Q":t.push(h)}"z"!==r.toLowerCase()&&t.push(p)}return t}(e),a=H(t);return a}(e);t.push(a)}),t}function V(e,t){let[a,l,n,r,s,i]=[e.x,e.y,e.width,e.height,e.x+e.width,e.y+e.height],[p,h,u,o,y,c]=[t.x,t.y,t.width,t.height,t.x+t.width,t.y+t.height],x=!1;return n*r!=u*o&&n*r>u*o&&a<p&&s>y&&l<h&&i>c&&(x=!0),x}function W(e,t=9){let a=0,l=[],n=Z(e),r=n.length>1,s=[];if(r){let e=U(n);e.forEach(function(t,a){for(let a=0;a<e.length;a++){let l=e[a];if(t!=l){V(t,l)&&s.push(a)}}})}return n.forEach((e,t)=>{l=[];let n=0,r=0,i=1,p=[];e.forEach(function(t,a){let[r,s]=[t.type,t.values],i=s.length;if(s.length){let h=(a>0?e[a-1]:e[0]).values,u=h.length,o={x:h[u-2],y:h[u-1]},y={x:s[i-2],y:s[i-1]};if("C"===r||"Q"===r){let e={x:s[0],y:s[1]};p="C"===r?[o,e,{x:s[2],y:s[3]},y]:[o,e,y];let t=Math.abs(function(e,t=!1){let a,[l,n,r,s]=[e[0],e[1],e[2],e[e.length-1]];if(e.length<3)return 0;3===e.length&&(n={x:1*e[0].x/3+2*e[1].x/3,y:1*e[0].y/3+2*e[1].y/3},r={x:1*e[2].x/3+2*e[1].x/3,y:1*e[2].y/3+2*e[1].y/3});return a=3*(l.x*(-2*n.y-r.y+3*s.y)+n.x*(2*l.y-r.y-s.y)+r.x*(l.y+n.y-2*s.y)+s.x*(-3*l.y+n.y+2*r.y))/20,t?Math.abs(a):a}(p));n+=t,l.push(o,y)}else if("A"===r){let e=I(o.x,o.y,t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],y.x,y.y),{cx:a,cy:r,rx:s,ry:i,startAngle:p,endAngle:h,deltaAngle:u}=e,c=Math.abs(function(e,t,a,l){const n=Math.PI*e*t;let r=(l-a+2*Math.PI)%(2*Math.PI);if(e===t)return n*(r/(2*Math.PI));const s=a=>Math.atan2(e*Math.sin(a),t*Math.cos(a));return a=s(a),l=s(l),r=(l-a+2*Math.PI)%(2*Math.PI),n*(r/(2*Math.PI))}(s,i,p,h));c-=Math.abs(J([o,{x:a,y:r},y])),l.push(o,y),n+=c}else l.push(o,y)}});let h=J(l);-1!==s.indexOf(t)&&(i=-1),r=h<0&&n<0?(Math.abs(n)-Math.abs(h))*i:(Math.abs(n)+Math.abs(h))*i,a+=r}),a}function J(e,t=!1){let a=0;for(let t=0,l=e.length;l&&t<l;t++){a+=e[t].x*e[t===e.length-1?0:t+1].y*.5-e[t===e.length-1?0:t+1].x*e[t].y*.5}return t&&(a=Math.abs(a)),a}function X(e,t=0){t=parseFloat(t);let a=e.length,l=t>1,n=!l&&!t,r="",s=l?"\n":n?"":" ",i=n?"":" ";r=`${e[0].type}${i}${e[0].values.join(" ")}${s}`;for(let t=1;t<a;t++){let a=e[t-1],l=e[t],{type:p,values:h}=l;if(!n||"A"!==p&&"a"!==p||(h=[h[0],h[1],h[2],`${h[3]}${h[4]}${h[5]}`,h[6]]),p=n&&a.type===l.type&&"m"!==l.type.toLowerCase()||n&&"M"===a.type&&"L"===l.type?" ":l.type,n){let e="",t=!1;for(let a=0,l=h.length;a<l;a++){let l=h[a],n=l.toString(),r=n.includes(".")&&Math.abs(l)<1;r&&t&&(n=n.replace(/^0\./,".")),!(a>0)||t&&r||(e+=" "),e+=n,t=r}r+=`${p}${i}${e}${s}`}else r+=`${p}${i}${h.join(" ")}${s}`}return n&&(r=r.replace(/ 0\./g," .").replace(/ -/g,"-").replace(/-0\./g,"-.").replace(/Z/g,"z")),r}function Y(e,l,n=0,r=1,s=!1){const i=(e,t,a,l,n)=>{let r=1-n;return{x:3*r*r*(t.x-e.x)+6*r*n*(a.x-t.x)+3*n*n*(l.x-a.x),y:3*r*r*(t.y-e.y)+6*r*n*(a.y-t.y)+3*n*n*(l.y-a.y)}};let p=[e,l],h=B(e.p0,e.p)>B(l.p0,l.p),u=JSON.parse(JSON.stringify(e)),o=JSON.parse(JSON.stringify(l)),y=w(u.p0,u.cp1,o.p,o.cp2,!1);if(!y)return p;if(h){let t={p0:{x:e.p.x,y:e.p.y},cp1:{x:e.cp2.x,y:e.cp2.y},cp2:{x:e.cp1.x,y:e.cp1.y},p:{x:e.p0.x,y:e.p0.y}};e={p0:{x:l.p.x,y:l.p.y},cp1:{x:l.cp2.x,y:l.cp2.y},cp2:{x:l.cp1.x,y:l.cp1.y},p:{x:l.p0.x,y:l.p0.y}},l=t}let c=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),x=(e,t)=>({x:e.x*t,y:e.y*t}),g=(e,t)=>e.x*t.x+e.y*t.y,f=l.p0,d=i(l.p0,l.cp1,l.cp2,l.p,0),m=g(c(e.p0,f),d)/g(d,d),v=E([l.p0,l.cp1,l.cp2,l.p],m),M=i(l.p0,l.cp1,l.cp2,l.p,m);m-=g(c(v,e.p0),M)/g(M,M);let b=E([l.p0,l.cp1,l.cp2,l.p],m),A=l.p,C=i(l.p0,l.cp1,l.cp2,l.p,m),L=i(l.p0,l.cp1,l.cp2,l.p,1),P=1-m,k=(I=b,F=x(C,P/3),{x:I.x+F.x,y:I.y+F.y});var I,F;let $=c(A,x(L,P/3)),D={p0:b,cp1:k,cp2:$,p:A,t0:m};h&&(D={p0:A,cp1:$,cp2:k,p:b,t0:m});let q=.5*(1-m),T=E([D.p0,D.cp1,D.cp2,D.p],q,!1,!0),z=T.cpts[2],Q=w(T,z,D.p0,y,!1),j=w(T,z,D.p,y,!1),Z=S(D.p0,Q,1.333),N=S(D.p,j,1.333);if(w(u.p0,Z,o.p,N,!0))return p;s&&t(markers,T,"purple"),D.cp1=Z,D.cp2=N;let R=B(u.p0,D.p0)+B(o.p,D.p);if(D.p0=u.p0,D.p=o.p,D.extreme=o.extreme,D.corner=o.corner,D.dimA=o.dimA,D.directionChange=o.directionChange,D.type="C",D.values=[D.cp1.x,D.cp1.y,D.cp2.x,D.cp2.y,D.p.x,D.p.y],R<n){let t=h?1+m:Math.abs(m),l=1+Math.abs(m);if(t=h?1+m:Math.abs(m)/l,B(E([D.p0,D.cp1,D.cp2,D.p],t),e.p)>n*r)return p;let i=W([{type:"M",values:[u.p0.x,u.p0.y]},{type:"C",values:[u.cp1.x,u.cp1.y,u.cp2.x,u.cp2.y,u.p.x,u.p.y]},{type:"C",values:[o.cp1.x,o.cp1.y,o.cp2.x,o.cp2.y,o.p.x,o.p.y]}]),y=[{type:"M",values:[D.p0.x,D.p0.y]},{type:"C",values:[D.cp1.x,D.cp1.y,D.cp2.x,D.cp2.y,D.p.x,D.p.y]}],c=W(y),x=Math.abs(c/i-1);if(D.error=5*x*r,s){let e=X(y);a(markers,e,"orange")}x<.05*r&&(p=[D])}return p}function G(e,{keepExtremes:t=!0,keepInflections:a=!0,keepCorners:l=!0,extrapolateDominant:n=!0,tolerance:r=1}={}){let s=[e[0]],i=e.length;for(let n=2;i&&n<=i;n++){let p=e[n-1],h=n<i?e[n]:null,u=h?.type||null,{type:o,values:y,p0:c,p:x,cp1:g=null,cp2:f=null,extreme:d=!1,directionChange:m=!1,corner:v=!1,dimA:M=0}=p;if("C"===o&&"C"===u)if(l&&v||t&&d)s.push(p);else{let u=K(p,h,{tolerance:r}),o=0;
//!count simplification success or failure - just for debugging
if(1===u.length){p=u[0];let h=1;o+=p.error;
//!log.push(`success1: ${i} and ${i + 1}`)
for(let s=n+1;o<r&&s<i;s++){let n=e[s];if("C"!==n.type||a&&p.directionChange||l&&p.corner||t&&p.extreme)break;let i=K(p,n,{tolerance:r});if(i.length>1)break;o+=.5*i[0].error,h++,
//!log.push(`success2: ${i} and ${n}`)
p=i[0]}s.push(p),n<i&&(n+=h)}else s.push(p)}else s.push(p)}return s}function K(e,t,{tolerance:a=1}={}){let l=[e,t],n=function(e,t){let a=j(e.cp2,e.p);if(0===a)return 0;let l=j(e.p,t.cp1);if(0===l)return 0;let n=j(e.cp2,t.cp1);return a/n}(e,t);if(!n)return l;let r=j(e.p0,e.p),s=j(t.p0,t.p),i=.08*Math.max(0,Math.min(r,s))*a,p=function(e,t,a=0){let{p0:l,cp1:n}=e,{p:r,cp2:s}=t;return n={x:(n.x-(1-a)*l.x)/a,y:(n.y-(1-a)*l.y)/a},s={x:(s.x-a*r.x)/(1-a),y:(s.y-a*r.y)/(1-a)},{p0:l,cp1:n,cp2:s,p:r}}(e,t,n),h=E([p.p0,p.cp1,p.cp2,p.p],n),u=j(e.p,h),o=0,y=0,c=!1,x=u;if(u<i){let a=.5*(1+n);if(o=j(E([t.p0,t.cp1,t.cp2,t.p],.5),E([p.p0,p.cp1,p.cp2,p.p],a)),x+=o,o<i){let t=.5*n;y=j(E([e.p0,e.cp1,e.cp2,e.p],.5),E([p.p0,p.cp1,p.cp2,p.p],t)),x+=y,x<i&&(c=!0)}}return c&&(p.p0=e.p0,p.p=t.p,p.dimA=j(p.p0,p.p),p.type="C",p.extreme=t.extreme,p.directionChange=t.directionChange,p.corner=t.corner,p.values=[p.cp1.x,p.cp1.y,p.cp2.x,p.cp2.y,p.p.x,p.p.y],p.error=x/i,l=[p]),l}function _(e,{tolerance:t=1,debug:a=!1}={}){let l=!1,n={flat:!0,steepness:0},r=e[0],s=e[e.length-1],i=new Set([...e.map(e=>+e.x.toFixed(8))]),p=new Set([...e.map(e=>+e.y.toFixed(8))]);if(1===i.size||1===p.size)return!a||n;let h=P(r,s),u=h/1e3*t,o=J(e,!0);return o<u&&(l=!0),a&&(n.flat=l,n.steepness=o/h*10),a?n:l}function ee(e=[],{detectExtremes:a=!0,detectCorners:l=!0,detectDirection:n=!0,detectSemiExtremes:r=!1,debug:s=!1,addSquareLength:i=!0,addArea:p=!0}={}){e=function(e,{addSquareLength:t=!0,addArea:a=!1,addArcParams:l=!1,addAverageDim:n=!0}={}){let r=e[0],s={x:r.values[0],y:r.values[1]},i=s,p=s;r.p0=i,r.p=p,r.idx=0,r.dimA=0;let h=e.length,u=[r];for(let l=1;l<h;l++){let n,r,h=e[l],{type:o,values:y}=h,c=y.length;if(p=c?{x:y[c-2],y:y[c-1]}:s,h.p0=i,h.p=p,h.dimA=j(i,p),"M"===o&&(s=p),"Q"===o||"C"===o)n={x:y[0],y:y[1]},r="C"===o?{x:y[2],y:y[3]}:null,h.cp1=n,r&&(h.cp2=r);else if("A"===o){let{rx:e,ry:t,cx:a,cy:l,startAngle:n,endAngle:r,deltaAngle:s}=I(i.x,i.y,...y);h.cx=a,h.cy=l,h.rx=e,h.ry=t,h.xAxisRotation=y[2]/180*Math.PI,h.largeArc=y[3],h.sweep=y[4],h.startAngle=n,h.endAngle=r,h.deltaAngle=s}if("Z"===o&&s.x!==p.x&&s.y!==p.y&&(h.closePath=!0),t&&(h.squareDist=P(i,p)),a){let e=0;"C"===o&&(e=J([i,n,r,p],!1)),"Q"===o&&(e=J([i,n,p],!1)),h.cptArea=e}h.idx=l,i=p,u.push(h)}return u}(e,{addSquareLength:i,addArea:p});let h=[],u=H(k(e)),{left:o,right:y,top:c,bottom:x,width:g,height:f}=u;e[0].corner=!1,e[0].extreme=!1,e[0].semiExtreme=!1,e[0].directionChange=!1,e[0].closePath=!1;let d=[e[0]],m=e.length,v=2*Math.PI/360*10,M=r?.01:.05;for(let a=2;m&&a<=m;a++){let l=e[a-1],{type:n,values:i,p0:p,p:h,cp1:u=null,cp2:g=null,squareDist:f=0,cptArea:m=0,dimA:b=0}=l,C=e[a]||null;l.corner=!1,l.extreme=!1,l.semiExtreme=!1,l.directionChange=!1,l.closePath=!1;let w="C"===n||"Q"===n?"C"===n?[p,u,g,h]:[p,u,h]:[p,h],L=.1*b,P=f*.01,S=Math.abs(m)<P,E="Q"===n||"C"===n,k=C&&("Q"===C.type||"C"===C.type),I=!1;if(S||"L"===n||(h.x===o||h.y===c||h.x===y||h.y===x?I=!0:E&&(I=q(null,w,M))),I&&(l.extreme=!0),E&&k){if(r&&!l.extreme){let e=Math.abs(h.x-g.x),t=Math.abs(h.y-g.y),a=!1;if(e&&t&&e>L||t>L){let e=A(g,h),t=A(h,C.cp1);a=Q(Math.abs(e+t)/2)}a&&(l.semiExtreme=!0)}if((l.cptArea<0&&C.cptArea>0||l.cptArea>0&&C.cptArea<0)&&(l.directionChange=!0),!l.extreme){let e=g?[g,h]:[u,h],t=[h,C.cp1],a=A(...e,!0),n=A(...t,!0);Math.abs(a-n)>v&&(l.corner=!0)}}s&&(l.semiExtreme&&t(markers,l.p,"blue","2%","0.5"),l.directionChange&&t(markers,l.p,"orange","1.5%","0.5"),l.corner&&t(markers,l.p,"magenta","1.5%","0.5"),l.extreme&&t(markers,l.p,"cyan","1%","0.5")),d.push(l)}return h={pathData:d,bb:u,dimA:(g+f)/2},h}function te(e){let t=[];for(let a=1,l=e.length;a<l;a++){let l=e[a],{type:n,values:r,p0:s=null,p:i=null,dimA:p=0}=l;r.length&&i&&s&&(p=p||j(s,i),p&&t.push(p))}let a=t.sort(),l=Math.ceil(a.length/8);a=a.slice(0,l);let n=a.reduce((e,t)=>e+t,0)/l,r=n>75?0:Math.floor(50/n).toString().length;return Math.min(Math.max(0,r),8)}function ae(e,t=-1){if(t<0)return e;let a=e.length;for(let l=0;l<a;l++){let a=e[l].values,n=a.length;if(n)for(let r=0;r<n;r++)e[l].values[r]=+a[r].toFixed(t)}return e}function le(e={},t={},a={},l={}){let n=S(e,t,1.5),r=S(l,a,1.5),s=.03*B(e,l),i=B(n,r),p=null,h={type:"C",values:[t.x,t.y,a.x,a.y,l.x,l.y]};return i&&s&&i<s&&(p=w(e,t,l,a,!1),p&&(h.type="Q",h.values=[p.x,p.y,l.x,l.y],h.p0=e,h.cp1=p,h.cp2=null,h.p=l)),h}function ne(e,{toShorthands:t=!0,toLonghands:a=!1,toRelative:l=!0,toAbsolute:n=!1,decimals:r=3,arcToCubic:s=!1,quadraticToCubic:i=!1,hasRelatives:p=!0,hasShorthands:h=!0,hasQuadratics:u=!0,hasArcs:o=!0,testTypes:y=!1}={}){if(y){let t=Array.from(new Set(e.map(e=>e.type))).join("");/[lcqamts]/gi.test(t),u=/[qt]/gi.test(t),o=/[a]/gi.test(t),h=/[vhst]/gi.test(t),isPoly=/[mlz]/gi.test(t)}return l=!n&&l,t=!a&&t,u&&i&&(e=se(e)),o&&s&&(e=re(e)),t&&(e=function(e,t=-1,a=!1){let l;if(a){let t=e.map(e=>e.type).join("");l=/[astvqmhlc]/g.test(t)}e=a&&l?pe(e):e;let n=e.length,r=new Array(n),s={type:"M",values:e[0].values};r[0]=s;let i,p={x:e[0].values[0],y:e[0].values[1]},h=.015;for(let a=1;a<n;a++){let l=e[a],{type:n,values:u}=l,o=u.length,y=[u[o-2],u[o-1]],c=e[a-1],x=c.type;i={x:y[0],y:y[1]};let g,f,d,m,v={x:u[0],y:u[1]},M=Math.abs(i.x-p.x),b=Math.abs(i.y-p.y),A=(M+b)/2*h;switch(n){case"L":s=0===b||b<A&&M>A?{type:"H",values:[u[0]]}:0===M||b>A&&M<A?{type:"V",values:[u[1]]}:l;break;case"Q":if("Q"!==x){p={x:y[0],y:y[1]},r[a]=l;continue}let e={x:c.values[0],y:c.values[1]};m={x:2*p.x-e.x,y:2*p.y-e.y},g=Math.abs(v.x-m.x),f=Math.abs(v.y-m.y),d=(g+f)/2,s=d<A?{type:"T",values:[i.x,i.y]}:l;break;case"C":let t={x:u[2],y:u[3]};if("C"!==x){r[a]=l,p={x:y[0],y:y[1]};continue}let h={x:c.values[2],y:c.values[3]};m={x:2*p.x-h.x,y:2*p.y-h.y},g=Math.abs(v.x-m.x),f=Math.abs(v.y-m.y),d=(g+f)/2,s=d<A?{type:"S",values:[t.x,t.y,i.x,i.y]}:l;break;default:s={type:n,values:u}}(l.decimals||0===l.decimals)&&(s.decimals=l.decimals),t>-1&&(s.values=s.values.map(e=>+e.toFixed(t))),p={x:y[0],y:y[1]},r[a]=s}return r}(e)),h&&a&&(e=ue(e)),r>-1&&l&&(e=ae(e,r)),n&&(e=he(e)),l&&(e=function(e,t=-1){return pe(e,!0,t)}(e)),r>-1&&(e=ae(e,r)),e}function re(e,{arcAccuracy:t=1}={}){let a=[e[0]];for(let l=1,n=e.length;l<n;l++){let n=e[l],r=e[l-1].values,s=r.length,i={x:r[s-2],y:r[s-1]};if("A"===n.type){ye(i,n.values,t).forEach(e=>{a.push(e)})}else a.push(n)}return a}function se(e){let t=[e[0]];for(let a=1,l=e.length;a<l;a++){let l=e[a],n=e[a-1].values,r=n.length,s={x:n[r-2],y:n[r-1]};"Q"===l.type?t.push(ie(s,l.values)):t.push(l)}return t}function ie(e,t){Array.isArray(e)&&(e={x:e[0],y:e[1]});let a={x:e.x+2/3*(t[0]-e.x),y:e.y+2/3*(t[1]-e.y)},l={x:t[2]+2/3*(t[0]-t[2]),y:t[3]+2/3*(t[1]-t[3])};return{type:"C",values:[a.x,a.y,l.x,l.y,t[2],t[3]]}}function pe(e,t=!1,a=-1){a>=0&&(e[0].values=e[0].values.map(e=>+e.toFixed(a)));let l=e[0].values,n=l[0],r=l[1],s=n,i=r;for(let l=1,p=e.length;l<p;l++){let p=e[l],{type:h,values:u}=p,o=t?h.toLowerCase():h.toUpperCase();if(h!==o)switch(h=o,p.type=h,h){case"a":case"A":u[5]=t?u[5]-n:u[5]+n,u[6]=t?u[6]-r:u[6]+r;break;case"v":case"V":u[0]=t?u[0]-r:u[0]+r;break;case"h":case"H":u[0]=t?u[0]-n:u[0]+n;break;case"m":case"M":t?(u[0]-=n,u[1]-=r):(u[0]+=n,u[1]+=r),s=t?u[0]+n:u[0],i=t?u[1]+r:u[1];break;default:if(u.length)for(let e=0;e<u.length;e++)u[e]=t?u[e]-(e%2?r:n):u[e]+(e%2?r:n)}let y=u.length;switch(h){case"z":case"Z":n=s,r=i;break;case"h":case"H":n=t?n+u[0]:u[0];break;case"v":case"V":r=t?r+u[0]:u[0];break;case"m":case"M":s=u[y-2]+(t?n:0),i=u[y-1]+(t?r:0);default:n=u[y-2]+(t?n:0),r=u[y-1]+(t?r:0)}a>=0&&(p.values=p.values.map(e=>+e.toFixed(a)))}return e}function he(e,t=-1){return pe(e,!1,t)}function ue(e,t=-1,a=!0){let l=!1;if(a){let t=e.map(e=>e.type).join(""),a=/[hstv]/gi.test(t);if(l=/[astvqmhlc]/g.test(t),!a)return e}let n=[],r={type:"M",values:(e=a&&l?he(e,t):e)[0].values};n.push(r);for(let a=1,l=e.length;a<l;a++){let l,s,i,p,h,u,o,y,c=e[a],{type:x,values:g}=c,f=g.length,d=r.values,m=d.length,[v,M]=[g[f-2],g[f-1]],[b,A]=[d[m-2],d[m-1]];switch(x){case"H":r={type:"L",values:[g[0],A]};break;case"V":r={type:"L",values:[b,g[0]]};break;case"T":[l,s]=[d[0],d[1]],[b,A]=[d[m-2],d[m-1]],i=b+(b-l),p=A+(A-s),r={type:"Q",values:[i,p,v,M]};break;case"S":[l,s]=[d[0],d[1]],[b,A]=[d[m-2],d[m-1]],[o,y]=m>2&&"A"!==r.type?[d[2],d[3]]:[b,A],i=2*b-o,p=2*A-y,h=g[0],u=g[1],r={type:"C",values:[i,p,h,u,v,M]};break;default:r={type:x,values:g}}t>-1&&(r.values=r.values.map(e=>+e.toFixed(t))),n.push(r)}return n}function oe({p0:e={x:0,y:0},p:t={x:0,y:0},centroid:a={x:0,y:0},rx:l=0,ry:n=0,xAxisRotation:r=0,radToDegree:s=!1,startAngle:i=null,endAngle:p=null,deltaAngle:h=null}={}){if(!l||!n)return[];let u=[];const o=1.5707963267948966;let y=s?r:r*Math.PI/180,c=Math.cos(y),x=Math.sin(y);null!==i&&null!==p&&null!==h||({startAngle:i,endAngle:p,deltaAngle:h}=C(a,e,t));let g=l!==n?D(i,l,n):i,f=l!==n?D(h,l,n):h,d=Math.max(1,Math.ceil(Math.abs(f)/o)),m=f/d;for(let e=0;e<d;e++){const e=Math.abs(m)===o?.551785*Math.sign(m):4/3*Math.tan(m/4);let t=Math.cos(g),r=Math.sin(g),s=Math.cos(g+m),i=Math.sin(g+m),p=[];[{x:t-r*e,y:r+t*e},{x:s+i*e,y:i-s*e},{x:s,y:i}].forEach(e=>{let t=e.x*l,r=e.y*n;p.push(c*t-x*r+a.x,x*t+c*r+a.y)}),u.push({type:"C",values:p,cp1:{x:p[0],y:p[1]},cp2:{x:p[2],y:p[3]},p:{x:p[4],y:p[5]}}),g+=m}return u}function ye(e,t,a=1){const l=2*Math.PI;let[n,r,s,i,p,h,u]=t;if(0===n||0===r)return[];let o=s?s*l/360:0,y=o?Math.sin(o):0,c=o?Math.cos(o):1,x=c*(e.x-h)/2+y*(e.y-u)/2,g=-y*(e.x-h)/2+c*(e.y-u)/2;if(0===x&&0===g)return[];n=Math.abs(n),r=Math.abs(r);let f=x*x/(n*n)+g*g/(r*r);if(f>1){let e=Math.sqrt(f);n*=e,r*=e}let d=n*n,m=n===r?d:r*r,v=x*x,M=g*g,b=d*m-d*M-m*v;b<=0?b=0:(b/=d*M+m*v,b=Math.sqrt(b)*(i===p?-1:1));let A=b?b*n/r*g:0,C=b?b*-r/n*x:0,w=c*A-y*C+(e.x+h)/2,L=y*A+c*C+(e.y+u)/2,P=(x-A)/n,S=(g-C)/r,E=(-x-A)/n,k=(-g-C)/r;const I=(e,t,a,l)=>{let n=+(e*a+t*l).toFixed(9);return 1===n||-1===n?1===n?0:Math.PI:(n=n>1?1:n<-1?-1:n,(e*l-t*a<0?-1:1)*Math.acos(n))};let F=I(1,0,P,S),$=I(P,S,E,k);0===p&&$>0?$-=2*Math.PI:1===p&&$<0&&($+=2*Math.PI);let D=(+(Math.abs($)/(l/4)).toFixed(0)||1)*a;$/=D;let q=[];const T=1.5707963267948966,z=.551785;let Q=$===T?z:$===-T?-z:4/3*Math.tan($/4),B=$?Math.cos($):1,j=$?Math.sin($):0;const Z=(e,t,a,l,n)=>{let r=e!=t?Math.cos(e):l,s=e!=t?Math.sin(e):n,i=Math.cos(e+t),p=Math.sin(e+t);return[{x:r-s*a,y:s+r*a},{x:i+p*a,y:p-i*a},{x:i,y:p}]};for(let e=0;e<D;e++){let e={type:"C",values:[]};Z(F,$,Q,B,j).forEach(t=>{let a=t.x*n,l=t.y*r;e.values.push(c*a-y*l+w,y*a+c*l+L)}),q.push(e),F+=$}return q}function ce(e,{toAbsolute:t=!0,toLonghands:a=!0,quadraticToCubic:l=!1,arcToCubic:n=!1,arcAccuracy:r=4}={}){let s=Array.isArray(e),i=s&&"object"==typeof e[0]&&"function"==typeof e[0].constructor,p=s?e:function(e,t=!0){e=e.trim();let a={pathData:[],hasRelatives:!1,hasShorthands:!1,hasArcs:!1,hasQuadratics:!1,isPolygon:!1,log:[]};if(""===e)return a;let l,n=0,r=e.length,s="",i=-1,p="",h=!1,u=0,o=0,y=0,c=!1,x=new Set([]);const g=()=>{c&&("M"===s?s="L":"m"===s&&(s="l"),a.pathData.push({type:s,values:[]}),i++,o=0,c=!1)},f=(e=!1)=>{(e?u>0:""!==p)&&(t&&-1===i&&(l="Pathdata must start with M command",a.log.push(l),s="M",a.pathData.push({type:s,values:[]}),y=2,o=0,i++),"A"===s||"a"===s?(({val:p,valueIndex:o}=me(p,o)),a.pathData[i].values.push(...p)):(t&&p[1]&&"."!==p[1]&&"0"===p[0]&&(l=`${i}. command: Leading zeros not valid: ${p}`,a.log.push(l)),a.pathData[i].values.push(+p)),o++,p="",u=0,c=o>=y)},d=()=>{if(i>0){let e=a.pathData[i].values.length;if(e&&e<y||e&&e>y||("z"===s||"Z"===s)&&e>0){l=`${i}. command of type "${s}": ${y-e} values too few - ${y} expected`,a.log[log.length-1]!==l&&a.log.push(l)}}};let m=!1,v=!1,M=!1,b="";for(;n<r;){b=e.charCodeAt(n);let r=b>47&&b<58;if(r||(m=101===b||69===b,v=45===b||43===b,M=46===b),r||v||M||m){if(h||45!==b&&46!==b)g();else{let e=46===b;f(e),g(),e&&u++}p+=e[n],h=m,n++}else if((b<48||b>5759)&&de(b))f(),n++;else{if(b>64){if(!xe.has(b)){l=`${i}. command "${e[n]}" is not a valid type`,a.log.push(l),n++;continue}""!==p&&(a.pathData[i].values.push(+p),o++,p=""),t&&d(),s=e[n],y=ge[b];let r="M"===s||"m"===s,h=i>0&&("z"===a.pathData[i].type||"Z"===a.pathData[i].type);x.add(s),h&&!r&&(a.pathData.push({type:"m",values:[0,0]}),i++),a.pathData.push({type:s,values:[]}),i++,u=0,o=0,c=!1,n++;continue}r||(l=`${i}. ${e[n]} is not a valid separarator or token`,a.log.push(l),p=""),n++}}f(),t&&d();t&&a.log.length&&(l="Invalid path data:\n"+a.log.join("\n"),"log"===t?console.log(l):console.warn(l));a.pathData[0].type="M";let A=Array.from(x).join("");return a.hasRelatives=/[lcqamts]/g.test(A),a.hasShorthands=/[vhst]/gi.test(A),a.hasArcs=/[a]/gi.test(A),a.hasQuadratics=/[qt]/gi.test(A),a.isPolygon=!/[cqats]/gi.test(A),a}(e),{hasRelatives:h=!0,hasShorthands:u=!0,hasQuadratics:o=!0,hasArcs:y=!0}=p,c=i?p:p.pathData;return c=function(e=[],{toAbsolute:t=!0,toLonghands:a=!0,quadraticToCubic:l=!1,arcToCubic:n=!1,arcAccuracy:r=2,hasRelatives:s=!0,hasShorthands:i=!0,hasQuadratics:p=!0,hasArcs:h=!0,testTypes:u=!1}={}){if(u){let t=Array.from(new Set(e.map(e=>e.type))).join("");s=/[lcqamts]/gi.test(t),p=/[qt]/gi.test(t),h=/[a]/gi.test(t),i=/[vhst]/gi.test(t),isPoly=/[mlz]/gi.test(t)}return(p&&l||h&&n)&&(a=!0,t=!0),s&&t&&(e=pe(e,!1)),i&&a&&(e=ue(e,-1,!1)),h&&n&&(e=re(e,r)),p&&l&&(e=se(e)),e}(c,{toAbsolute:t,toLonghands:a,quadraticToCubic:l,arcToCubic:n,arcAccuracy:r,hasRelatives:h,hasShorthands:u,hasQuadratics:o,hasArcs:y}),c}const xe=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),ge=new Uint8Array(128);ge[77]=2,ge[109]=2,ge[65]=7,ge[97]=7,ge[67]=6,ge[99]=6,ge[76]=2,ge[108]=2,ge[81]=4,ge[113]=4,ge[83]=4,ge[115]=4,ge[84]=2,ge[116]=2,ge[72]=1,ge[104]=1,ge[86]=1,ge[118]=1,ge[90]=0,ge[122]=0;const fe=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),de=e=>32===e||44===e||10===e||13===e||8232===e||8233===e||9===e||11===e||12===e||160===e||e>=5760&&fe.has(e),me=(e="",t=0)=>{let a=e.length;return 3===t&&2===a?(e=[+e[0],+e[1]],t++):4===t&&a>1?(e=[+e[0],+e.substring(1)],t++):3===t&&a>=3?(e=[+e[0],+e[1],+e.substring(2)],t+=2):e=[+e],{val:e,valueIndex:t}};function ve(e){if("path"===e.nodeName.toLowerCase())return e;let t=function(e,t=!1){let a,l,n,r,s,i,p,h,u,o,y,c,x,g,f,d,m=[],v=e.nodeName;const M=(e,t=9)=>{const a="svg"!==e.nodeName?e.closest("svg"):e,l=e=>{if(null===e)return 0;let a=96,l=e.match(/([a-z]+)/gi);l=l?l[0]:"";let n,r=parseFloat(e);if(!l)return r;switch(l){case"in":n=a;break;case"pt":n=1/72*96;break;case"cm":n=1/2.54*96;break;case"mm":n=1/2.54*96/10;break;case"em":case"rem":n=16;break;default:n=1}return+(r*n).toFixed(t)};let n=a.getAttribute("width");n=n?l(n):300;let r=a.getAttribute("height");r=n?l(r):150;let s=a.getAttribute("viewBox");s=s?s.replace(/,/g," ").split(" ").filter(Boolean).map(e=>+e):[];let i=s.length?s[2]:n,p=s.length?s[3]:r,h=i/100,u=p/100,o=Math.sqrt((Math.pow(h,2)+Math.pow(u,2))/2),y=["x","width","x1","x2","rx","cx","r"],c=["y","height","y1","y2","ry","cy"];e.getAttributeNames().forEach(t=>{let a=e.getAttribute(t),n=a;if(y.includes(t)||c.includes(t)){let r=y.includes(t)?h:u;r="r"===t&&i!=p?o:r;let s=a.match(/([a-z|%]+)/gi);s=s?s[0]:"",n=a.includes("%")?parseFloat(a)*r:l(a),e.setAttribute(t,+n)}})};M(e);const b=t=>(a={},t.forEach(t=>{a[t]=+e.getAttribute(t)}),a);switch(v){case"path":n=e.getAttribute("d"),m=ce(n);break;case"rect":l=["x","y","width","height","rx","ry"],({x:r,y:s,width:i,height:p,rx:u,ry:o}=b(l)),u||o?(u>i/2&&(u=i/2),o>p/2&&(o=p/2),m=[{type:"M",values:[r+u,s]},{type:"L",values:[r+i-u,s]},{type:"A",values:[u,o,0,0,1,r+i,s+o]},{type:"L",values:[r+i,s+p-o]},{type:"A",values:[u,o,0,0,1,r+i-u,s+p]},{type:"L",values:[r+u,s+p]},{type:"A",values:[u,o,0,0,1,r,s+p-o]},{type:"L",values:[r,s+o]},{type:"A",values:[u,o,0,0,1,r+u,s]},{type:"Z",values:[]}]):m=[{type:"M",values:[r,s]},{type:"L",values:[r+i,s]},{type:"L",values:[r+i,s+p]},{type:"L",values:[r,s+p]},{type:"Z",values:[]}];break;case"circle":case"ellipse":l=["cx","cy","rx","ry","r"],({cx:y,cy:c,r:h,rx:u,ry:o}=b(l));let t="circle"===v;t?(u=h,o=h):(u=u||h,o=o||h);let a=t&&h>=1?1:u,M=t&&h>=1?1:u;m=[{type:"M",values:[y+u,c]},{type:"A",values:[a,M,0,1,1,y-u,c]},{type:"A",values:[a,M,0,1,1,y+u,c]}];break;case"line":l=["x1","y1","x2","y2"],({x1:x,y1:f,x2:g,y2:d}=b(l)),m=[{type:"M",values:[x,f]},{type:"L",values:[g,d]}];break;case"polygon":case"polyline":let A=e.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let e=0;e<A.length;e+=2)m.push({type:0===e?"M":"L",values:[+A[e],+A[e+1]]});"polygon"===v&&m.push({type:"Z",values:[]})}return t?function(e){return e.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}(m):m}(e),a=t.map(e=>`${e.type} ${e.values} `).join(" "),l=[...e.attributes].map(e=>e.name),n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",a);let r=["x","y","cx","cy","dx","dy","r","rx","ry","width","height","points"];return l.forEach(t=>{if(!r.includes(t)){let a=e.getAttribute(t);n.setAttribute(t,a)}}),n}function Me(e,{tolerance:t=1,flatBezierToLinetos:a=!0}={}){let l=[e[0]],n={x:e[0].values[0],y:e[0].values[1]},r=n,s=n;e[e.length-1].type.toLowerCase();for(let i=1,p=e.length;i<p;i++){let h=e[i],u=e[i+1]||e[p-1],o="z"===u.type.toLowerCase()?n:{x:u.values[u.values.length-2],y:u.values[u.values.length-1]},{type:y,values:c}=h,x=c.slice(-2);s="Z"!==y?{x:x[0],y:x[1]}:n;let g=o?J([r,s,o],!0):1/0,f=P(r,o),d=g<(f?f/333*t:0),m=!1;if(a||"C"!==y||(d=!1),a&&("C"===y||"Q"===y)){m=_([r,..."C"===y?[{x:c[0],y:c[1]},{x:c[2],y:c[3]}]:"Q"===y?[{x:c[0],y:c[1]}]:[],s],{tolerance:t}),m&&i<p-1&&(y="L",h.type="L",h.values=x)}d&&i<p-1&&"A"!==u.type&&("L"===y||a&&m)||(r=s,"M"===y?(n=s,r=n):"Z"===y&&(r=n),l.push(h))}return l}function be(e){let t=[];for(let a=0,l=e.length;a<l;a++){let l=e[a];if(!l)continue;let{type:n=null,values:r=[]}=l,s=e[a+1]?e[a+1]:null;"M"!==n&&"m"!==n||s&&(!s||"Z"!==s.type&&"z"!==s.type)?t.push(l):s&&a++}return t}function Ae(e){let t={x:e[0].values[0],y:e[0].values[1]},a=t,l=[e[0]];for(let n=1,r=e.length;n<r;n++){let r=e[n],s=e[n-1],i=e[n+1]||null,{type:p,values:h}=r,u="m"===s.type.toLowerCase()&&!i,o=h.length;if(a={x:h[o-2],y:h[o-1]},u||"L"!==p||a.x!==t.x||a.y!==t.y){if(!u&&("l"===p||"v"===p||"h"===p)){if("l"===p?"00"===h.join(""):0===h[0])continue}l.push(r),t=a}}return l}function Ce(e){let t=e.length;if(!("z"===e[t-1].type.toLowerCase()))return e;let a=0,l=[];for(let a=0;a<t;a++){let t=e[a],{type:n,values:r}=t,s=r.length;if(s){let e={type:n,x:r[s-2],y:r[s-1],index:0};e.index=a,l.push(e)}}return l=l.sort((e,t)=>+e.y.toFixed(3)-+t.y.toFixed(3)),a=l[0].index,a?Le(e,a):e}function we(e,{removeFinalLineto:t=!0,autoClose:a=!0}={}){let l=[],n=e.length,r={x:+e[0].values[0].toFixed(8),y:+e[0].values[1].toFixed(8)},s="z"===e[n-1].type.toLowerCase(),i=e.filter(e=>"L"===e.type),p=e[s?n-2:n-1],h=p.type,u=p.values.slice(-2).map(e=>+e.toFixed(8)),o=u[0]===r.x&&u[1]===r.y;!s&&a&&o&&(e.push({type:"Z",values:[]}),s=!0,n++);let y="L"!==e[1].type&&(!o||"L"===p.type);if(y=!1,!s)return e;let c=0;{let t=[];for(let a=0;a<n;a++){let l=e[a],{type:n,values:r}=l;if(r.length){let l=r.slice(-2),s=e[a-1]&&"L"===e[a-1].type,i=e[a+1]&&"L"===e[a+1].type,p=e[a-1]?e[a-1].type.toUpperCase():null,h=e[a+1]?e[a+1].type.toUpperCase():null,u={type:n,x:l[0],y:l[1],dist:0,index:0,prevL:s,nextL:i,prevCom:p,nextCom:h};u.index=a,t.push(u)}}if(i.length){let e=t.filter(e=>"L"!==e.type&&"M"!==e.type&&e.prevCom&&"L"===e.prevCom||"M"===e.prevCom&&"L"===h).sort((e,t)=>e.y-t.y||e.x-t.x)[0];c=e?e.index-1:0}else t=t.sort((e,t)=>+e.y.toFixed(8)-+t.y.toFixed(8)||e.x-t.x),c=t[0].index;e=c?Le(e,c):e}return r={x:+e[0].values[0].toFixed(8),y:+e[0].values[1].toFixed(8)},n=e.length,p=e[n-2],h=p.type,u=p.values.slice(-2).map(e=>+e.toFixed(8)),o="L"===h&&u[0]===r.x&&u[1]===r.y,t&&o&&e.splice(n-2,1),l.push(...e),l}function Le(e,t){let a=0,l="z"===e[e.length-1].type.toLowerCase();if(!l||t<1||e.length<3)return e;let n=l?1:0;!function(e){let t=e.length,a="z"===e[t-1].type.toLowerCase(),l=e[0],[n,r]=[l.values[0],l.values[1]].map(e=>+e.toFixed(8)),s=a?e[t-2]:e[t-1],i=s.values.length,[p,h]=[s.values[i-2],s.values[i-1]].map(e=>+e.toFixed(8));!a||n==p&&r==h||(e.pop(),e.push({type:"L",values:[n,r]},{type:"Z",values:[]}))}(e),a=t+1<e.length-1?t+1:e.length-1-n;let r,s,i=e.slice(a),p=e.slice(0,a);return p.shift(),r=p[p.length-1].values||[],s=[r[r.length-2],r[r.length-1]],n&&(i.pop(),p.push({type:"Z",values:[]})),e=[{type:"M",values:s},...i,...p]}function Pe(e,{threshold:t=null,tolerance:a=1}={}){if(!t){let a=function(e){let t=1/0,a=-1/0,l=1/0,n=-1/0;const r=e=>{e.x<t&&(t=e.x),e.x>a&&(a=e.x),e.y<l&&(l=e.y),e.y>n&&(n=e.y)};for(let t=0;t<e.length;t++){let a=e[t],{type:l,values:n}=a,s=n.length,i=(e[t-1]?e[t-1]:e[t]).values,p=i.length;if(s){let e={x:i[p-2],y:i[p-1]},t={x:n[s-2],y:n[s-1]};if(r(t),"C"===l||"Q"===l){let a={x:n[0],y:n[1]},s="C"===l?{x:n[2],y:n[3]}:a,i="C"===l?[e,a,s,t]:[e,a,t];T(i).forEach(e=>{let t=E(i,e);r(t)})}else"A"===l&&z(e,n).forEach(e=>{r(e)})}}return{x:t,y:l,width:a-t,height:n-l}}(e);t=.05*(a.width+a.height)}let l=e.length;for(let n=0;n<l;n++){let l=e[n],{type:r,values:s,extreme:i,corner:p=!1,dimA:h,p0:u,p:o}=l,y=e[n+1]?e[n+1]:null,c=e[n+2]?e[n+2]:null,x=(y?j(o,y.p):1/0)<t,g=(c?j(c.p,y.p):1/0)<1*t;if(y&&c&&"C"===r&&"C"===y.type&&i&&c.extreme&&(g||x)){let l=Y(y,c,t,a,!1);if(1===l.length){l=l[0],e[n+1]=null,e[n+2].values=[l.cp1.x,l.cp1.y,l.cp2.x,l.cp2.y,l.p.x,l.p.y],e[n+2].cp1=l.cp1,e[n+2].cp2=l.cp2,e[n+2].p0=l.p0,e[n+2].p=l.p,e[n+2].extreme=l.extreme,n++;continue}}if(y&&"C"===r&&"C"===y.type&&i&&x){let e=J([l.p0,l.p,y.p]),t=J([l.p0,l.cp1,l.cp2,l.p]);if(e<0&&t>0||e>0&&t<0)continue}}l=(e=e.filter(Boolean)).length;let n="z"===e[l-1].type.toLowerCase()?l-2:l-1,r=e[n],s=e[n-1]||null,i={x:e[0].values[0],y:e[0].values[1]},p=r.values.slice(-2),h=+p[0].toFixed(8)===+i.x.toFixed(8)&&+p[1].toFixed(8)===+i.y.toFixed(8),u="C"===e[1].type&&e[1].extreme?e[1]:null,o=j(r.p0,r.p)<t;if(s&&"C"===s.type&&o&&h&&u){let l=Y(s,r,t,a,!1);1===l.length&&(e[n-1]=l[0],e[n]=null,e=e.filter(Boolean))}return e}function Se(e){let t=(new XMLSerializer).serializeToString(e);return t=t.replace(/\t/g,"").replace(/[\n\r|]/g,"\n").replace(/\n\s*\n/g,"\n").replace(/ +/g," "),t}function Ee(e,{threshold:t=0,tolerance:a=1}={}){let l=e.length,n=[e[0]],r="z"===e[l-1].type.toLowerCase(),s=!!r&&(e[l-1].p.x===e[0].p0.x&&e[l-1].p.y===e[0].p0.y),i=r?2:1,p=e[l-i],h="L"===p.type,u="C"===p.type,o="L"===e[1].type,y="C"===e[1].type,c=r&&y&&(h||s);c&&(e[l-1].values=e[0].values,e[l-1].type="L",h=!0);for(let t=1;t<l;t++){let s=e[t],{type:p}=s,x=e[t+1]?e[t+1]:null;if("L"===p&&x&&"C"===x.type||"C"===p&&x&&"L"===x.type){let c="L"===p?s:null,g=null,f=[],d=0;if(1===t&&y&&h&&(f=[e[1]],c=e[l-1],g=x),!c){n.push(s);continue}r&&u&&o&&t===l-i-1&&(g=e[1],f=[e[l-i]]);for(let a=t+1;a<l;a++){let t=e[a]?e[a]:null,l=e[a-1];if("C"===l.type&&f.push(l),"L"===t.type&&"C"===l.type){g=t;break}d++}if(g){let e=j(c.p0,c.p),l=j(g.p0,g.p);f.length;let r=j(c.p,g.p0),i=J([c.p0,c.p,g.p0,g.p],!1),p=J([f[0].p0,f[0].cp1,f[0].cp2,f[0].p],!1),h=i<0&&p>0||i>0&&p<0,u=.5*r*a,o=u<e&&u<l;if(f.length&&!h&&o){let e=Math.abs(p)<=.005*P(f[0].p0,f[0].p),a=e?null:w(c.p0,c.p,g.p0,g.p,!1);if(!e&&a){let e=.75*j(E([c.p,a,g.p0],.5),1===f.length?E([f[0].p0,f[0].cp1,f[0].cp2,f[0].p],.5):f[0].p);if(u&&e>u&&e>.3*r){n.push(s);continue}{let e={type:"Q",values:[a.x,a.y,g.p0.x,g.p0.y]};e.p0=c.p,e.cp1=a,e.p=g.p0,n.push(c,e),t+=d;continue}}}}}c&&t===l-1&&"L"===p||n.push(s)}return(c||r&&"Z"!==n[n.length-1].type)&&n.push({type:"Z",values:[]}),n}function ke(e){if(e.length<3)return!1;let t=e[0],a=e[Math.floor(e.length/2)],l=e[e.length-1],n=t.x,r=t.y,s=a.x,i=a.y,p=l.x,h=l.y,u=n-s,o=r-i,y=n-p,c=r-h,x=(n*n-s*s+(r*r-i*i))/2,g=(n*n-p*p+(r*r-h*h))/2,f=u*c-o*y;if(Math.abs(f)<1e-10)return console.warn("Points are collinear or numerically unstable"),!1;let d={x:(c*x-o*g)/f,y:(-y*x+u*g)/f},m=L(d,t),v=C(d,t,l),{deltaAngle:M,startAngle:b,endAngle:A}=v;return{centroid:d,r:m,startAngle:b,endAngle:A,deltaAngle:M}}function Ie(e,{threshold:t=0,tolerance:l=1,toCubic:n=!1,debug:r=!1}={}){let s=e.length,i=[e[0]],p=[];for(let t=1;t<s;t++){let l=e[t],{type:s}=l,h=e[t-1],u=e[t+1]?e[t+1]:null,o=e[t+2]?e[t+2]:null,y=e[t+3]?e[t+3]:null,c=null;"C"===l.type||"Q"===l.type?c=l:!u||"C"!==u.type&&"Q"!==u.type||(c=u);let x,g,f,d,m,v=c?"C"===c.type?[c.p0,c.cp1,c.cp2,c.p]:[c.p0,c.cp1,c.p]:[],M=0,b=0,A=!1,C=!1,w=[];if("L"===h.type&&"L"===s&&c&&"L"===o.type&&y&&("L"===y.type||"Z"===y.type)?(x=[l.p0,l.p],g=[o.p0,o.p],f=l.p0,d=o.p,M=J(v,!1),b=J([...x,...g],!1),A=M<0&&b>0||M>0&&b<0,A||(m=E(v,.5),w=[f,m,d],C=!0)):"C"!==s&&"Q"!==s||"L"!==h.type||"C"!==u.type&&"Q"!==u.type||"L"!==o.type||(C=!0,x=[h.p0,h.p],g=[o.p0,o.p],f=h.p,d=o.p0,m=c.p,w=[f,c.p,d]),C){let e=ke(w);if(e){let s,{centroid:h,r:u,deltaAngle:o,startAngle:y,endAngle:c}=e,x=0,g=o>0?1:0,v=Math.abs(o)>Math.PI?1:0;if(B(F(f,h.x,h.y,.5*o),m)<.05*B(f,d)){if(s=oe({p0:f,p:d,centroid:h,rx:u,ry:u,xAxisRotation:x,sweep:g,largeArc:v,deltaAngle:o,startAngle:y,endAngle:c}),1===s.length){let e=le(f,s[0].cp1,s[0].cp2,d);"Q"===e.type&&(n=!0),l=e}if(s.length>1&&(n=!1),n||(l.type="A",l.values=[u,u,x,v,g,d.x,d.y]),l.p0=f,l.p=d,l.extreme=!1,l.corner=!1,r){p=n?[{type:"M",values:[f.x,f.y]},...s]:[{type:"M",values:[f.x,f.y]},{type:"A",values:[u,u,x,v,g,d.x,d.y]}];let e=X(p);a(markers,e,"orange","0.5%","0.5")}i.push(l),t++;continue}}}i.push(l)}return i}function Fe(e=[],{threshold:t=0}={}){let a=e.length,l="z"===e[a-1].type.toLowerCase(),n=l?a-2:a-1,r=e[n],s=r.values.slice(-2),i={x:e[0].values[0],y:e[0].values[1]},p=B(i,{x:s[0],y:s[1]});if(p&&p<t){let a=e[n].values.length;e[n].values[a-2]=i.x,e[n].values[a-1]=i.y;let l=e[1];if("C"===l.type&&"C"===r.type){let a=Math.abs(l.values[0]-r.values[2]),s=Math.abs(l.values[1]-r.values[3]),p=Math.abs(e[1].values[0]-l.values[0]),h=Math.abs(e[1].values[1]-l.values[1]),u=Math.abs(e[1].values[0]-r.values[2]),o=Math.abs(e[1].values[1]-r.values[3]),y=h<t&&o<t&&a;a&&a<t&&(p<t&&u<t&&s)&&(e[1].values[0]=i.x,e[n].values[2]=i.x),s&&s<t&&y&&(e[1].values[1]=i.y,e[n].values[3]=i.y)}}return e}function $e(e,t=1){let a=[];for(let l=0,n=e.length;l<n;l++){let n=e[l],{type:r,values:s}=n,i={type:r,values:[]};switch(r.toLowerCase()){case"h":case"v":i.values=[s[0]*t];break;case"a":i.values=[s[0]*t,s[1]*t,s[2],s[3],s[4],s[5]*t,s[6]*t];break;default:s.length&&(i.values=s.map((e,a)=>e*t))}a.push(i)}return a}function De(e,{tolerance:t=1}={}){return e.length,e}function qe(e){for(let t=1,a=e.length;t<a;t++){let a=e[t],{type:l,values:n,p0:r,cp1:s=null,cp2:i=null,p:p=null}=a;if("C"===l){let l=le(r,s,i,p);"Q"===l.type&&(l.extreme=a.extreme,l.corner=a.corner,l.dimA=a.dimA,l.squareDist=a.squareDist,e[t]=l)}}return e}function Te(e,{areaThreshold:t=1.5}={}){for(let a=0,l=e.length;a<l;a++){let l=e[a],n=e[a+1]||null,{type:r,values:s,p0:i,cp1:p=null,cp2:h=null,p:u=null}=l;if("C"===r&&"C"===n.type){let l=ze(i,p,h,u,t),r=ze(n.p0,n.cp1,n.cp2,n.p,t);if(l.isArc&&r.isArc){let t=.01*j(i,n.p),s=Math.abs(n.p.x-i.x),p=Math.abs(n.p.y-i.y),h=p<t&&s>t,o=s<t&&p>t,{rx:y,ry:c}=l,x=J([i,u,n.p])<0?0:1;if(o||h){y=Math.min(y,r.rx),c=Math.min(c,r.ry),e[a]=null,e[a+1].type="A",e[a+1].values=[y,c,0,0,x,n.p.x,n.p.y];continue}}}}return e=e.filter(Boolean)}function ze(e,t,a,l,n=7.5){let r,s={type:"C",values:[t.x,t.y,a.x,a.y,l.x,l.y]},i=0,p=!1,h=A(e,t,!0),u=A(l,a,!0),o=180*Math.abs(h-u)/Math.PI,y=0,c=0;if(Math.abs(o%180-90)<3){r=w(e,F(t,e.x,e.y,-.5*Math.PI),l,F(a,l.x,l.y,.5*Math.PI),!1);let h=w(e,t,l,a,!1);if(h){let r=L(e,h),u=L(l,h),o=+Math.max(r,u).toFixed(8),x=+Math.min(r,u).toFixed(8);y=x,c=o;let g=J([e,t,a,l])<0?0:1,f=Math.abs(l.x-e.x)>Math.abs(l.y-e.y);100/y*Math.abs(y-c)<5&&(y=o,c=y),f&&(y=o,c=x);let d=W([{type:"M",values:[e.x,e.y]},{type:"C",values:[t.x,t.y,a.x,a.y,l.x,l.y]}]),m={type:"A",values:[y,c,0,0,g,l.x,l.y]};i=Math.PI*(y*c)/4,i-=Math.abs(J([e,l,h])),function(e,t){let a=Math.abs(e-t);return Math.abs(100-100/e*(e+a))}(d,i)<n&&(p=!0,s=m)}}return{com:s,isArc:p,area:i,rx:y,ry:c,centroid:r}}function Qe(e="",{getObject:t=!1,toAbsolute:a=!0,toRelative:l=!0,toShorthands:n=!0,quadraticToCubic:r=!0,arcToCubic:s=!1,cubicToArc:i=!1,simplifyBezier:p=!0,optimizeOrder:h=!0,autoClose:u=!0,removeZeroLength:o=!0,refineClosing:y=!0,removeColinear:c=!0,flatBezierToLinetos:x=!0,revertToQuadratics:g=!0,refineExtremes:f=!0,simplifyCorners:d=!1,keepExtremes:m=!0,keepCorners:v=!0,extrapolateDominant:M=!0,keepInflections:b=!1,addExtremes:A=!1,addSemiExtremes:C=!1,removeOrphanSubpaths:w=!1,simplifyRound:L=!1,scale:P=1,scaleTo:S=0,crop:E=!1,alignToOrigin:I=!1,decimals:F=3,autoAccuracy:$=!0,minifyD:D=0,tolerance:q=1,reverse:T=!1,mergePaths:z=!1,removeHidden:Q=!0,removeUnused:B=!0,shapesToPaths:j=!0,tMin:N=0,tMax:R=1,redraw:U=!1}={}){q=Math.max(.1,q),P=Math.max(.001,P);let V=function(e){let t="string";if(Array.isArray(e))return e[0]?.type&&e[0]?.values?"pathData":"array";if("string"==typeof e){let a=(e=e.trim()).includes("<svg")&&e.includes("</svg"),l=e.startsWith("M")||e.startsWith("m"),n=!isNaN(e.substring(0,1))&&!isNaN(e.substring(e.length-1,e.length));if(a)t="svgMarkup";else if(l)t="pathDataString";else if(n)t="polyString";else{let a=/^(file:|https?:\/\/|\/|\.\/|\.\.\/)/.test(e),l=e.startsWith("data:image");t=a||l?"url":"string"}return t}return t=typeof e,(e.constructor.name||t).toLowerCase()}(e),W="",J=0,Y=0,K=0,_={},ae="",le="svgMarkup"===V?1:0,re=[];J=e.length;let se={x:0,y:0,width:0,height:0},ie={x:0,y:0,width:0,height:0},pe=[],he=[];if(le){if(W=function(e,{returnDom:t=!1,removeHidden:a=!0,removeUnused:l=!0}={}){e=(e=e.replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/<!DOCTYPE[\s\S]*?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").trim()).replaceAll("xlink:href=","href=");let n=(new DOMParser).parseFromString(e,"text/html").querySelector("svg");!function(e,t=["viewBox","xmlns","width","height","id","class"]){[...e.attributes].map(e=>e.name).forEach(a=>{t.includes(a)||e.removeAttribute(a)})}(n,["viewBox","xmlns","width","height","id","class","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin"]);let r=["metadata","script"];return n.querySelectorAll("*").forEach(e=>{let t=e.nodeName,l=e.getAttribute("style")||"",n=!!l&&l.trim().includes("display:none"),s=e.getAttribute("display")&&"none"===e.getAttribute("display")||n;t.includes(":")||r.includes(t)||a&&s?e.remove():function(e){[...e.attributes].map(e=>e.name).forEach(t=>{t.includes(":")&&e.removeAttribute(t)})}(e)}),t?n:Se(n)}(e,{returnDom:!0,removeHidden:Q,removeUnused:B}),j){W.querySelectorAll("polygon, polyline, line, rect, circle, ellipse").forEach(e=>{let t=ve(e);e.replaceWith(t)})}W.querySelectorAll("path").forEach(e=>{re.push({d:e.getAttribute("d"),el:e})}),se=function(e=null,t=-1){const a=e=>e&&isNaN(e)?e.match(/[^\d]+/g)[0]:"";if(!e)return!1;let l=e.hasAttribute("width"),n=e.hasAttribute("height"),r=e.hasAttribute("viewBox"),s=l?e.getAttribute("width"):0,i=n?e.getAttribute("height"):0,p=!!l&&a(s),h=!!n&&a(s),u=s?s.includes("%")?0:parseFloat(s):300,o=i?i.includes("%")?0:parseFloat(i):150,y=r?e.getAttribute("viewBox").split(/,| /).filter(Boolean).map(Number):[0,0,u,o];return t>-1&&([u,o]=[u,o].map(e=>+e.toFixed(t)),y=y.map(e=>+e.toFixed(t))),{x:y[0],y:y[1],width:y[2],height:y[3],w:u,h:o,hasViewBox:r,hasWidth:l,hasHeight:n,widthUnit:p,heightUnit:h}}(W,F)}else{if("pathDataString"===V)ae=e;else if("polyString"===V)ae="M"+e;else if("pathData"===V){ae=e,J=ae.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ").length}re.push({d:ae,el:null})}let ue={toRelative:l,toShorthands:n,decimals:F},oe=[];for(let e=0,t=re.length;t&&e<t;e++){let t=re[e],{d:l,el:n}=t,Q=ce(l,{quadraticToCubic:r,toAbsolute:a,arcToCubic:s});if(1!==P||S){if(S)if(se.width&&!E)P=S/se.width;else{let e=Q.map(e=>({type:e.type,values:e.values}));e=ne(e,{arcToCubic:!0}),e=O(e);let t=H(k(e));pe.push(t.x,t.x+t.width),he.push(t.y,t.y+t.height);let a=S/t.width;P=a}Q=$e(Q,P)}let B=Q.length;w&&(Q=be(Q));let j=Z(Q),V=j.length,W=[];for(let e=0;e<V;e++){let t=j[e];(c||o)&&(t=Ae(t)),U&&(A=!0,C=!0,d=!1,v=!0,m=!0,h=!0,p=!1,N=0,R=0),h&&(t=Ce(t)),c&&(t=Me(t,{tolerance:q,flatBezierToLinetos:!1})),(A||C)&&(t=O(t,{tMin:N,tMax:R,addExtremes:A,addSemiExtremes:C}));let a=ee(t,{detectSemiExtremes:C}),{pathData:l,bb:n,dimA:r}=a;if(pe.push(n.x,n.x+n.width),he.push(n.y,n.y+n.height),y&&(l=Fe(l,{threshold:.001*r})),U&&(l=De(l,{tolerance:q,threshold:.001*r})),l=p?G(l,{simplifyBezier:p,keepInflections:b,keepExtremes:m,keepCorners:v,extrapolateDominant:M,revertToQuadratics:g,tolerance:q,reverse:T}):l,f){l=Pe(l,{threshold:.05*(n.width+n.height),tolerance:q})}if(i&&(l=Te(l,{areaThreshold:1.5})),c&&x&&(l=Me(l,{tolerance:q,flatBezierToLinetos:x})),d){l=Ee(l,{threshold:.1*(n.width+n.height),tolerance:q})}L&&(l=Ie(l)),g&&(l=qe(l)),h&&(l=we(l,{autoClose:u})),W.push({pathData:l,bb:n})}let _=Math.min(...pe),ae=Math.min(...he);ie={x:_,y:ae,width:Math.max(...pe)-_,height:Math.max(...he)-ae};let le=ie.height>ie.width;if(h&&(W=le?W.sort((e,t)=>e.bb.y-t.bb.y||e.bb.x-t.bb.x):W.sort((e,t)=>e.bb.x-t.bb.x||e.bb.y-t.bb.y)),Q=[],W.forEach(e=>{Q.push(...e.pathData)}),$&&(F=te(Q),ue.decimals=F),n&&z)oe.push(...Q);else{Q=ne(Q,ue),Q=Ae(Q),I&&(console.log(ie),Q[0].values[0]=(Q[0].values[0]-ie.x).toFixed(F),Q[0].values[1]=(Q[0].values[1]-ie.y).toFixed(F),ie.x=0,ie.y=0);let e=Q.length,a=X(Q,D);Y=a.length,K=+(100/J*Y).toFixed(2),t.d=a,t.report={original:B,new:e,saved:B-e,compression:K,decimals:F},n&&n.setAttribute("d",a)}}if(le){if(oe.length){let e=ne(oe,ue);e=Ae(e);let t=X(e,D);re[0].el.setAttribute("d",t);for(let e=1;e<re.length;e++){let t=re[e].el;t&&t.remove()}!function(e){e.querySelectorAll("g, defs").forEach(e=>{e.children.length||e.remove()})}(W)}if(P){let{x:e,y:t,width:a,height:l,w:n,h:r,hasViewBox:s,hasWidth:i,hasHeight:p,widthUnit:h,heightUnit:u}=se;E&&(e=ie.x,t=ie.y,a=ie.width,l=ie.height,n=a,r=l),s&&W.setAttribute("viewBox",[e,t,a,l].map(e=>+(e*P).toFixed(F)).join(" ")),i&&W.setAttribute("width",+(n*P).toFixed(F)+h),p&&W.setAttribute("height",+(r*P).toFixed(F)+u)}W=Se(W),Y=W.length,K=+(100/J*Y).toFixed(2),J=+(J/1024).toFixed(3),Y=+(Y/1024).toFixed(3),_={svgSize:J,svgSizeOpt:Y,compression:K,decimals:F}}else({d:ae,report:_}=re[0]);return t?{svg:W,d:ae,report:_,inputType:V,mode:le}:ae||W}const{abs:Be,acos:je,asin:Ze,atan:Ne,atan2:Re,ceil:Oe,cos:He,exp:Ue,floor:Ve,log:We,hypot:Je,max:Xe,min:Ye,pow:Ge,random:Ke,round:_e,sin:et,sqrt:tt,tan:at,PI:lt}=Math;"undefined"!=typeof window&&(window.svgPathSimplify=Qe),e.PI=lt,e.abs=Be,e.acos=je,e.asin=Ze,e.atan=Ne,e.atan2=Re,e.ceil=Oe,e.cos=He,e.exp=Ue,e.floor=Ve,e.hypot=Je,e.log=We,e.max=Xe,e.min=Ye,e.pow=Ge,e.random=Ke,e.round=_e,e.sin=et,e.sqrt=tt,e.svgPathSimplify=Qe,e.tan=at}(this["svg-path-simplify"]=this["svg-path-simplify"]||{});
