"use strict";const{abs:e,acos:t,asin:l,atan:a,atan2:s,ceil:n,cos:r,exp:p,floor:i,log:u,max:y,min:o,pow:h,random:c,round:x,sin:f,sqrt:g,tan:v,PI:d}=Math;function m(e,t,l=!1){let a=s(t.y-e.y,t.x-e.x);return l&&a<0&&(a+=2*Math.PI),a}function M(e=null,t=null,l=null,a=null,s=!0,n=!1){let r,p,i,u,y,o={};if(!(e&&t&&l&&a))return n&&console.warn("points missing"),!1;try{if(r=(a.y-l.y)*(t.x-e.x)-(a.x-l.x)*(t.y-e.y),0==r)return!1}catch{return n&&console.warn("!catch",e,t,"p3:",l,"p4:",a),!1}p=e.y-l.y,i=e.x-l.x,u=(a.x-l.x)*p-(a.y-l.y)*i,y=(t.x-e.x)*p-(t.y-e.y)*i,p=u/r,i=y/r,o={x:e.x+p*(t.x-e.x),y:e.y+p*(t.y-e.y)};let h=!1;return p>0&&p<1&&i>0&&i<1&&(h=!0),!(s&&!h)&&o}function b(e,t){return g((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function A(e,t){return(t.x-e.x)**2+(t.y-e.y)**2}function C(e,t,l,a=!1){let s={x:(t.x-e.x)*l+e.x,y:(t.y-e.y)*l+e.y};return a&&(s.angle=m(e,t),s.angle<0&&(s.angle+=2*d)),s}function w(e,t=.5,l=!1,a=!1){let s;return s=e.length>2?((e,t,l=!1)=>{let s=4===e.length,n=e[0],r=e[1],p=s?e[2]:e[1],i=e[e.length-1],u={x:0,y:0};if(l||a){let e,l,y,o,h,c=n.x===r.x&&n.y===r.y,x=i.x===p.x&&i.y===p.y;0!==t||c?1!==t||x?(c&&(t+=1e-7),x&&(t-=1e-7),e=C(n,r,t),s?(l=C(r,p,t),y=C(p,i,t),o=C(e,l,t),h=C(l,y,t),u=C(o,h,t),u.angle=m(o,h),a&&(u.cpts=[l,y,o,h])):(l=C(n,r,t),y=C(r,i,t),u=C(l,y,t),u.angle=m(l,y),a&&(u.cpts=[l,y]))):(u.x=i.x,u.y=i.y,u.angle=m(p,i)):(u.x=n.x,u.y=n.y,u.angle=m(n,r))}else{let e=1-t;u=s?{x:e**3*n.x+3*e**2*t*r.x+3*e*t**2*p.x+t**3*i.x,y:e**3*n.y+3*e**2*t*r.y+3*e*t**2*p.y+t**3*i.y}:{x:e*e*n.x+2*e*t*r.x+t**2*i.x,y:e*e*n.y+2*e*t*r.y+t**2*i.y}}return u})(e,t,l):C(e[0],e[1],t,l),l&&s.angle<0&&(s.angle+=2*d),s}function L(t,l,a,n,p,i,u,y,o){const h=(e,t,l,a)=>s(a-t,l-e);let c={cx:0,cy:0,rx:a=e(a),ry:n=e(n),startAngle:0,endAngle:0,deltaAngle:0,clockwise:u,xAxisRotation:p,largeArc:i,sweep:u};if(0==a||0==n)throw Error("rx and ry can not be 0");if(a===n){let e=Math.abs(y-t),a=Math.abs(o-l),s=e,n=Math.min(t,y),r=Math.min(l,o),p=.5*Math.PI;if(0===e&&a||0===a&&e)return s=0===e&&a?a/2:e/2,c.rx=s,c.ry=s,0===e&&a?(c.cx=t,c.cy=r+a/2,c.startAngle=l>o?p:-p,c.endAngle=l>o?-p:p,c.deltaAngle=u?Math.PI:-Math.PI):0===a&&e&&(c.cx=n+e/2,c.cy=l,c.startAngle=t>y?Math.PI:0,c.endAngle=t>y?-Math.PI:Math.PI,c.deltaAngle=u?Math.PI:-Math.PI),c}let x,v,m=a===n?0:p*d/180,M=m?f(m):0,b=m?r(m):1,A=(t-y)/2,C=(l-o)/2,w=(t+y)/2,L=(l+o)/2,P=m?b*A+M*C:A,k=m?b*C-M*A:C,S=P*P/(a*a)+k*k/(n*n);S>1&&(a*=g(S),n*=g(S),c.rx=a,c.ry=n);let $=a*n,F=a*k,I=n*P,E=F**2+I**2;if(!E)throw Error("start point can not be same as end point");let z=g(e(($*$-E)/E));i==u&&(z=-z);let Q=z*F/n,T=-z*I/a;x=m?b*Q-M*T+w:w+Q,v=m?M*Q+b*T+L:L+T,c.cy=v,c.cx=x;let q=h(x,v,t,l),D=h(x,v,y,o);!u&&D>q&&(D-=2*Math.PI),u&&q>D&&(D=D<=0?D+2*Math.PI:D);let B=D-q;return c.startAngle=q,c.endAngle=D,c.deltaAngle=B,c}function P(e,t,l,s,n,p=0,i=!0,u=!1){if(n=u?n*d/180:n,p=u?p*d/180:p,p=l!==s&&p!==2*d?p:0,i&&l!==s){let e=a(v(n=p?n-p:n)*(l/s));n=r(n)<0?e+d:e}let y=e+l*r(n),o=t+s*f(n),h={x:y,y:o};return p&&(h.x=e+(y-e)*r(p)-(o-t)*f(p),h.y=t+(y-e)*f(p)+(o-t)*r(p)),h}function k(e,t=[],l=.05){let a=3===t.length,s=t[0]||null,n=a?t[1]:null,r=a?t[2]:t[1],p=.5*Math.PI,i=!1,u=!1,y=s?m(r,s,!0):null;if(i=Math.abs(y%p)<l||Math.abs(y%p-p)<l,a){let e=n?m(n,r,!0):0;u=Math.abs(e%p)<=l||Math.abs(e%p-p)<=l}return i||u}function S(e){return 4===e.length?function(e,t,l,a){let[s,n,r,p,i,u,y,o]=[e.x,e.y,t.x,t.y,l.x,l.y,a.x,a.y],h=Math.min(e.y,a.y),c=Math.min(e.x,a.x),x=Math.max(e.x,a.x),f=Math.max(e.y,a.y);if(t.y>=h&&t.y<=f&&l.y>=h&&l.y<=f&&t.x>=c&&t.x<=x&&l.x>=c&&l.x<=x)return[];let g,v,d,m,M,b,A,C,w=[];for(let e=0;e<2;++e)if(0==e?(v=6*s-12*r+6*i,g=-3*s+9*r-9*i+3*y,d=3*r-3*s):(v=6*n-12*p+6*u,g=-3*n+9*p-9*u+3*o,d=3*p-3*n),Math.abs(g)<1e-12){if(Math.abs(v)<1e-12)continue;m=-d/v,0<m&&m<1&&w.push(m)}else A=v*v-4*d*g,A<0?Math.abs(A)<1e-12&&(m=-v/(2*g),0<m&&m<1&&w.push(m)):(C=Math.sqrt(A),M=(-v+C)/(2*g),0<M&&M<1&&w.push(M),b=(-v-C)/(2*g),0<b&&b<1&&w.push(b));let L=w.length;for(;L--;)m=w[L];return w}(e[0],e[1],e[2],e[3]):function(e,t,l){let a,s,n,r=Math.min(e.y,l.y),p=Math.min(e.x,l.x),i=Math.max(e.x,l.x),u=Math.max(e.y,l.y);if(t.y>=r&&t.y<=u&&t.x>=p&&t.x<=i)return[];let[y,o,h,c,x,f]=[e.x,e.y,t.x,t.y,l.x,l.y],g=[];for(let e=0;e<2;++e)a=0==e?y-2*h+x:o-2*c+f,s=0==e?-2*y+2*h:-2*o+2*c,Math.abs(a)>1e-12&&(n=-s/(2*a),n>0&&n<1&&g.push(n));return g}(e[0],e[1],e[2])}function $(e,t){const l=(e,t,l,a,s,n)=>{var r=Math.cos(n),p=Math.sin(n),i=a*Math.cos(e),u=s*Math.sin(e);return{x:t+r*i-p*u,y:l+p*i+r*u}};let a,s,n,r,p,i=L(e.x,e.y,t[0],t[1],t[2],t[3],t[4],t[5],t[6]),{rx:u,ry:y,cx:o,cy:h,endAngle:c,deltaAngle:x}=i,f=t[2],g={x:t[5],y:t[6]},v=[g],d=f*Math.PI/180,m=Math.tan(d);p=Math.atan2(-y*m,u);let M=p,b=p+Math.PI,A=Math.atan2(y,u*m),C=A+Math.PI,w=[e.x,g.x],P=[e.y,g.y],k=Math.min(...w),S=Math.max(...w),$=Math.min(...P),F=Math.max(...P),I=l(c-.001*x,o,h,u,y,d),E=l(c-.999*x,o,h,u,y,d);return(I.x>S||E.x>S)&&(a=l(M,o,h,u,y,d),v.push(a)),(I.x<k||E.x<k)&&(s=l(b,o,h,u,y,d),v.push(s)),(I.y<$||E.y<$)&&(r=l(C,o,h,u,y,d),v.push(r)),(I.y>F||E.y>F)&&(n=l(A,o,h,u,y,d),v.push(n)),v}function F(e,t){return(Math.abs(t.x-e.x)+Math.abs(t.y-e.y))/2}function I(e){let t=[];try{e.map((e,t)=>"m"===e.type.toLowerCase()?t:-1).filter(e=>-1!==e)}catch{console.log("catch",e)}let l=e.map((e,t)=>"m"===e.type.toLowerCase()?t:-1).filter(e=>-1!==e);return 1===l.length?[e]:(l.forEach((a,s)=>{t.push(e.slice(a,l[s+1]))}),t)}function E(e,t){let l,a,s,n,r,p,i=[],u=[],y=e[0],o=e[1],h=e[e.length-2],c=e[e.length-1];return 4===e.length?(l=w([y,o],t),a=w([o,h],t),s=w([h,c],t),n=w([l,a],t),r=w([a,s],t),p=w([n,r],t),i.push({x:y.x,y:y.y},{x:l.x,y:l.y},{x:n.x,y:n.y},{x:p.x,y:p.y}),u.push({x:p.x,y:p.y},{x:r.x,y:r.y},{x:s.x,y:s.y},{x:c.x,y:c.y})):3===e.length?(a=w([y,o],t),s=w([o,c],t),p=w([a,s],t),i.push({x:y.x,y:y.y},{x:a.x,y:a.y},{x:p.x,y:p.y}),u.push({x:p.x,y:p.y},{x:s.x,y:s.y},{x:c.x,y:c.y})):2===e.length&&(a=w([y,c],t),i.push({x:y.x,y:y.y},{x:a.x,y:a.y}),u.push({x:a.x,y:a.y},{x:c.x,y:c.y})),[i,u]}function z(e,t,l=0,a=1){let s=[],n=6===t.length?"C":"Q",r={x:t[0],y:t[1]},p="C"===n?{x:t[2],y:t[3]}:r,i={x:t[4],y:t[5]},u=Math.max(i.x,e.x),y=Math.min(i.x,e.x),o=Math.max(i.y,e.y),h=Math.min(i.y,e.y),c=0;if(r.x<y||r.x>u||r.y<h||r.y>o||p.x<y||p.x>u||p.y<h||p.y>o){let u=S("C"===n?[e,r,p,i]:[e,r,i]).sort();if(u=u.filter(e=>e>l&&e<a),u.length){let l=function(e,t,l,a=!0){let s=[];if(!l.length)return!1;let n,r,p,i=t.length,u={x:t[i-2],y:t[i-1]};2===t.length?p=[e,u]:4===t.length?(n={x:t[0],y:t[1]},p=[e,n,u]):6===t.length&&(n={x:t[0],y:t[1]},r={x:t[2],y:t[3]},p=[e,n,r,u]);if(l.length)if(1===l.length){let e=E(p,l[0]),t=e[0],a=e[1];s.push(t,a)}else{let e=l[0],t=E(p,e),a=t[0];s.push(a),p=t[1];for(let t=1;t<l.length;t++){e=l[t-1];let a=E(p,(l[t]-e)/(1-e));s.push(a[0]),t===l.length-1&&s.push(a[a.length-1]),p=a[1]}}if(a){let e,t,l=[];return s.forEach(a=>{e={type:"",values:[]},a.shift(),t=a.map(e=>Object.values(e)).flat(),e.values=t,3===a.length?e.type="C":2===a.length?e.type="Q":1===a.length&&(e.type="L"),l.push(e)}),l}return s}(e,t,u);s.push(...l),c+=l.length}else s.push({type:n,values:t})}else s.push({type:n,values:t});return{pathData:s,count:c}}function Q(e,t=0,l=1){let a=[e[0]],s={x:e[0].values[0],y:e[0].values[1]},n={x:e[0].values[0],y:e[0].values[1]},r=e.length;for(let p=1;r&&p<r;p++){let r=e[p],{type:i,values:u}=r,y=u.slice(-2);if(y[0],y[1],"C"!==i&&"Q"!==i)a.push(r);else if("C"===i||"Q"===i){let e=z(s,u,t,l).pathData;a.push(...e)}s={x:y[0],y:y[1]},"z"===i.toLowerCase()?s=n:"M"===i&&(n={x:y[0],y:y[1]})}return a}function T(e,t=-1){let l=e.map(e=>e.x),a=e.map(e=>e.y),s=Math.min(...l),n=Math.max(...l),r=Math.min(...a),p=Math.max(...a),i={x:s,left:s,right:n,y:r,top:r,bottom:p,width:n-s,height:p-r};if(t>-1)for(let e in i)i[e]=+i[e].toFixed(t);return i}function q(e){let t=[];return e.forEach(e=>{let l=function(e){let t=function(e){let t=[];for(let l=0;l<e.length;l++){let a=e[l],s=l>0?e[l-1]:e[l],{type:n,values:r}=a,p={x:s.values[s.values.length-2],y:s.values[s.values.length-1]},i=r.length?{x:r[r.length-2],y:r[r.length-1]}:"",u=r.length?{x:r[0],y:r[1]}:"";switch(n){case"A":if("function"!=typeof arcToBezier){let e=b(p,i)/2,l=C(p,i,.5),a=P(l.x,l.y,e,e,0),s=P(l.x,l.y,e,e,Math.PI);t.push(a,s,i);break}arcToBezier(p,r).forEach(e=>{let l=e.values,a={x:l[0],y:l[1]},s={x:l[2],y:l[3]},n={x:l[4],y:l[5]};t.push(a,s,n)});break;case"C":let e={x:r[2],y:r[3]};t.push(u,e);break;case"Q":t.push(u)}"z"!==n.toLowerCase()&&t.push(i)}return t}(e),l=T(t);return l}(e);t.push(l)}),t}function D(e,t){let[l,a,s,n,r,p]=[e.x,e.y,e.width,e.height,e.x+e.width,e.y+e.height],[i,u,y,o,h,c]=[t.x,t.y,t.width,t.height,t.x+t.width,t.y+t.height],x=!1;return s*n!=y*o&&s*n>y*o&&l<i&&r>h&&a<u&&p>c&&(x=!0),x}function B(e,t=9){let l=0,a=[],s=I(e),n=s.length>1,r=[];if(n){let e=q(s);e.forEach(function(t,l){for(let l=0;l<e.length;l++){let a=e[l];if(t!=a){D(t,a)&&r.push(l)}}})}return s.forEach((e,t)=>{a=[];let s=0,n=0,p=1,i=[];e.forEach(function(t,l){let[n,r]=[t.type,t.values],p=r.length;if(r.length){let u=(l>0?e[l-1]:e[0]).values,y=u.length,o={x:u[y-2],y:u[y-1]},h={x:r[p-2],y:r[p-1]};if("C"===n||"Q"===n){let e={x:r[0],y:r[1]};i="C"===n?[o,e,{x:r[2],y:r[3]},h]:[o,e,h];let t=Math.abs(function(e,t=!1){let l,[a,s,n,r]=[e[0],e[1],e[2],e[e.length-1]];if(e.length<3)return 0;3===e.length&&(s={x:1*e[0].x/3+2*e[1].x/3,y:1*e[0].y/3+2*e[1].y/3},n={x:1*e[2].x/3+2*e[1].x/3,y:1*e[2].y/3+2*e[1].y/3});return l=3*(a.x*(-2*s.y-n.y+3*r.y)+s.x*(2*a.y-n.y-r.y)+n.x*(a.y+s.y-2*r.y)+r.x*(-3*a.y+s.y+2*n.y))/20,t?Math.abs(l):l}(i));s+=t,a.push(o,h)}else if("A"===n){let e=L(o.x,o.y,t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],h.x,h.y),{cx:l,cy:n,rx:r,ry:p,startAngle:i,endAngle:u,deltaAngle:y}=e,c=Math.abs(function(e,t,l,a){const s=Math.PI*e*t;let n=(a-l+2*Math.PI)%(2*Math.PI);if(e===t)return s*(n/(2*Math.PI));const r=l=>Math.atan2(e*Math.sin(l),t*Math.cos(l));return l=r(l),a=r(a),n=(a-l+2*Math.PI)%(2*Math.PI),s*(n/(2*Math.PI))}(r,p,i,u));c-=Math.abs(j([o,{x:l,y:n},h])),a.push(o,h),s+=c}else a.push(o,h)}});let u=j(a);-1!==r.indexOf(t)&&(p=-1),n=u<0&&s<0?(Math.abs(s)-Math.abs(u))*p:(Math.abs(s)+Math.abs(u))*p,l+=n}),l}function j(e,t=!1){let l=0;for(let t=0,a=e.length;a&&t<a;t++){l+=e[t].x*e[t===e.length-1?0:t+1].y*.5-e[t===e.length-1?0:t+1].x*e[t].y*.5}return t&&(l=Math.abs(l)),l}function N(e,t=0){t=parseFloat(t);let l=e.length,a=t>1,s=!a&&!t,n="",r=a?"\n":s?"":" ",p=s?"":" ";n=`${e[0].type}${p}${e[0].values.join(" ")}${r}`;for(let t=1;t<l;t++){let l=e[t-1],a=e[t],{type:i,values:u}=a;if(!s||"A"!==i&&"a"!==i||(u=[u[0],u[1],u[2],`${u[3]}${u[4]}${u[5]}`,u[6]]),i=l.type===a.type&&"m"!==a.type.toLowerCase()&&s||"M"===l.type&&"L"===a.type&&s?" ":a.type,s){let e="",t=!1;for(let l=0,a=u.length;l<a;l++){let a=u[l],s=a.toString(),n=s.includes(".")&&Math.abs(a)<1;n&&t&&(s=s.replace(/^0\./,".")),!(l>0)||t&&n||(e+=" "),e+=s,t=n}n+=`${i}${p}${e}${r}`}else n+=`${i}${p}${u.join(" ")}${r}`}return s&&(n=n.replace(/ 0\./g," .").replace(/ -/g,"-").replace(/-0\./g,"-.").replace(/Z/g,"z")),n}function Z(e,t,l=0,a=1,s=!1){const n=(e,t,l,a,s)=>{let n=1-s;return{x:3*n*n*(t.x-e.x)+6*n*s*(l.x-t.x)+3*s*s*(a.x-l.x),y:3*n*n*(t.y-e.y)+6*n*s*(l.y-t.y)+3*s*s*(a.y-l.y)}};let r=[e,t],p=F(e.p0,e.p)>F(t.p0,t.p),i=JSON.parse(JSON.stringify(e)),u=JSON.parse(JSON.stringify(t)),y=M(i.p0,i.cp1,u.p,u.cp2,!1);if(!y)return r;if(p){let l={p0:{x:e.p.x,y:e.p.y},cp1:{x:e.cp2.x,y:e.cp2.y},cp2:{x:e.cp1.x,y:e.cp1.y},p:{x:e.p0.x,y:e.p0.y}};e={p0:{x:t.p.x,y:t.p.y},cp1:{x:t.cp2.x,y:t.cp2.y},cp2:{x:t.cp1.x,y:t.cp1.y},p:{x:t.p0.x,y:t.p0.y}},t=l}let o=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),h=(e,t)=>({x:e.x*t,y:e.y*t}),c=(e,t)=>e.x*t.x+e.y*t.y,x=t.p0,f=n(t.p0,t.cp1,t.cp2,t.p,0),g=c(o(e.p0,x),f)/c(f,f),v=w([t.p0,t.cp1,t.cp2,t.p],g),d=n(t.p0,t.cp1,t.cp2,t.p,g);g-=c(o(v,e.p0),d)/c(d,d);let m=w([t.p0,t.cp1,t.cp2,t.p],g),b=t.p,A=n(t.p0,t.cp1,t.cp2,t.p,g),L=n(t.p0,t.cp1,t.cp2,t.p,1),P=1-g,k=(S=m,$=h(A,P/3),{x:S.x+$.x,y:S.y+$.y});var S,$;let I=o(b,h(L,P/3)),E={p0:m,cp1:k,cp2:I,p:b};p&&(E={p0:b,cp1:I,cp2:k,p:m});let z=.5*(1-g),Q=w([E.p0,E.cp1,E.cp2,E.p],z,!1,!0),T=Q.cpts[2],q=M(Q,T,E.p0,y,!1),D=M(Q,T,E.p,y,!1),j=C(E.p0,q,1.333),Z=C(E.p,D,1.333);if(M(i.p0,j,u.p,Z,!0))return r;s&&function(e,t,l="red",a="1%",s="1",n="",r=!0,p="",i=""){Array.isArray(t)&&(t={x:t[0],y:t[1]});let u=`<circle class="${i}" opacity="${s}" id="${p}" cx="${t.x}" cy="${t.y}" r="${a}" fill="${l}">\n  <title>${n}</title></circle>`;if(!r)return u;e.insertAdjacentHTML("beforeend",u)}(markers,Q,"purple"),E.cp1=j,E.cp2=Z;let O=F(i.p0,E.p0)+F(u.p,E.p);if(E.p0=i.p0,E.p=u.p,E.extreme=u.extreme,E.corner=u.corner,E.dimA=u.dimA,E.directionChange=u.directionChange,E.type="C",E.values=[E.cp1.x,E.cp1.y,E.cp2.x,E.cp2.y,E.p.x,E.p.y],O<l){let t=p?1+g:Math.abs(g);if(F(w([E.p0,E.cp1,E.cp2,E.p],t),e.p)>l*a)return r;let n=B([{type:"M",values:[i.p0.x,i.p0.y]},{type:"C",values:[i.cp1.x,i.cp1.y,i.cp2.x,i.cp2.y,i.p.x,i.p.y]},{type:"C",values:[u.cp1.x,u.cp1.y,u.cp2.x,u.cp2.y,u.p.x,u.p.y]}]),y=[{type:"M",values:[E.p0.x,E.p0.y]},{type:"C",values:[E.cp1.x,E.cp1.y,E.cp2.x,E.cp2.y,E.p.x,E.p.y]}],o=B(y),h=Math.abs(o/n-1);if(E.error=5*h*a,s){let e=N(y);!function(e,t="",l="green",a="1%",s=!0){let n=`<path d="${t}" fill="none" stroke="${l}"  stroke-width="${a}" /> `;if(!s)return n;e.insertAdjacentHTML("beforeend",n)}(markers,e,"orange")}h<.05*a&&(r=[E])}return r}function O(e,t,l=!1,a=1){let s=[e,t],n=function(e,t){let l=b(e.cp2,e.p),a=b(e.cp2,t.cp1),s=Math.min(l)/a;return s}(e,t),r=F(e.p0,e.p),p=F(t.p0,t.p),i=.05*Math.min(r,p)*a,u=function(e,t,l=0,a=0){let{p0:s,cp1:n}=e,{p:r,cp2:p}=t,i={x:(n.x-(1-l)*s.x)/l,y:(n.y-(1-l)*s.y)/l},u={x:(p.x-a*r.x)/(1-a),y:(p.y-a*r.y)/(1-a)},y={p0:s,cp1:i,cp2:u,p:r};return y}(e,t,n,n),y=w([u.p0,u.cp1,u.cp2,u.p],n),o=F(e.p,y),h=0,c=0,x=!1,f=o;if(o<i){let l=.5*(1+n);if(h=F(w([t.p0,t.cp1,t.cp2,t.p],.5),w([u.p0,u.cp1,u.cp2,u.p],l)),f+=h,h<i){let t=.5*n;c=F(w([e.p0,e.cp1,e.cp2,e.p],.5),w([u.p0,u.cp1,u.cp2,u.p],t)),h+c<i&&(x=!0),f+=c}}if(l&&!x){let l=Z(e,t,i,a);1===l.length&&(x=!0,u=l[0],f=u.error)}return x&&(u.p0=e.p0,u.p=t.p,u.dimA=F(u.p0,u.p),u.type="C",u.extreme=t.extreme,u.directionChange=t.directionChange,u.corner=t.corner,u.values=[u.cp1.x,u.cp1.y,u.cp2.x,u.cp2.y,u.p.x,u.p.y],u.error=f/i,s=[u]),s}function H(e,t,l){let a=!1,s=2===t.length,n=t[0],r=s?t[1]:n;if(e.x===n.x&&e.y===n.y&&l.x===r.x&&l.y===r.y)return!0;let p=n.x-e.x,i=n.y-e.y,u=l.x-r.x,y=l.y-r.y;if(!Math.abs(p*y-i*u))return!0;let o=l.x-e.x,h=l.y-e.y;return!Math.abs(o*i-h*p)||(a=j([e,...t,l],!0)<A(e,l)/200,a)}function R(e=[]){let t,l=[],a=function(e){let t=[],l={x:e[0].values[0],y:e[0].values[1]};return e.forEach(e=>{let{type:a,values:s}=e;if(s.length){let e=s.length>1?{x:s[s.length-2],y:s[s.length-1]}:"V"===a?{x:l.x,y:s[0]}:{x:s[0],y:l.y};t.push(e),l=e}}),t}(e),s=T(a),{left:n,right:r,top:p,bottom:i,width:u,height:y}=s,o=e[0].values[0],h=e[0].values[1],c={x:e[0].values[0],y:e[0].values[1]},x={x:e[0].values[0],y:e[0].values[1]};e[0].idx=0,e[0].p0=c,e[0].p=c,e[0].lineto=!1,e[0].corner=!1,e[0].extreme=!1,e[0].directionChange=!1,e[0].closePath=!1,e[0].dimA=0;let f=[e[0]],g=0,v=e.length;for(let l=2;v&&l<=v;l++){let a=e[l-1],{type:s,values:u}=a,y=u.slice(-2),v=[x];a.idx=l-1,a.lineto=!1,a.corner=!1,a.extreme=!1,a.directionChange=!1,a.closePath=!1,a.dimA=0;let d,M,b,C,w,L,P=.05;t=y.length?{x:y[0],y:y[1]}:c,"M"===s?(c=t,x=t):"z"===s.toLowerCase()&&(t=c),a.p0=x,a.p=t;let S=F(x,t);a.dimA=S,"L"===s&&(a.lineto=!0),"Z"===s&&(a.closePath=!0,c.x!==o&&c.y!==h&&(a.lineto=!0)),"Q"!==s&&"C"!==s||(d={x:u[0],y:u[1]},M="C"===s?{x:u[2],y:u[3]}:null,a.cp1=d,M&&(a.cp2=M)),u.length>2&&("Q"!==s&&"C"!==s||v.push(d),"C"===s&&v.push(M),v.push(t)),"L"===s||t.x!==n&&t.y!==p&&t.x!==r&&t.y!==i||(a.extreme=!0);let $=e[l]?e[l]:null,I=$?$.values.slice(-2):null;w=$?$.type:null,!$||"Q"!==$.type&&"C"!==$.type||(C=$?{x:I[0],y:I[1]}:null,b={x:$.values[0],y:$.values[1]},"C"===$.type&&($.values[2],$.values[3])),L=j(v);let E=g<0&&L>0||g>0&&L<0;if(g=L,E&&(a.directionChange=!0),("Q"===s||"C"===s)&&("Q"===s&&"Q"===w||"C"===s&&"C"===w)){let e=v.slice(1);if(C&&Math.abs(C.x-x.x),C&&Math.abs(C.y-x.y),!!a.extreme||k(0,e,P))a.extreme=!0;else{let e=M?[M,t]:[d,t],l=[t,b],s=m(...e,!0),n=m(...l,!0),r=180*Math.abs(s-n)/Math.PI,p=A(...e),i=A(...l);r>10&&p&&i&&(a.corner=!0)}}f.push(a),x=t}return l={pathData:f,bb:s,dimA:(u+y)/2},l}function U(e,t=-1){let l=!("auto"!=t||!e[0].hasOwnProperty("decimals"));for(let a=0,s=e.length;a<s;a++){let s=e[a];(t>-1||l)&&(t=l?s.decimals:t,e[a].values=s.values.map(e=>e?+e.toFixed(t):e))}return e}function V(e={},t={},l={},a={}){let s=C(e,t,1.5),n=C(a,l,1.5),r=.01*F(e,a),p=F(s,n),i=null,u={type:"C",values:[t.x,t.y,l.x,l.y,a.x,a.y]};return p<r&&(i=M(e,t,a,l,!1),i&&(u.type="Q",u.values=[i.x,i.y,a.x,a.y],u.p0=e,u.cp1=i,u.p=a)),u}function J(e,{toShorthands:t=!0,toRelative:l=!0,decimals:a=3}={}){return t&&(e=function(e,t=-1,l=!0){let a;if(l){let t=e.map(e=>e.type).join("");a=/[astvqmhlc]/g.test(t)}e=l&&a?Y(e,t):e;let s={type:"M",values:e[0].values};e[0].decimals&&(s.decimals=e[0].decimals);let n,r=[s],p={x:e[0].values[0],y:e[0].values[1]},i=.01;for(let l=1,a=e.length;l<a;l++){let a=e[l],{type:u,values:y}=a,o=y.slice(-2),h=e[l-1],c=h.type;n={x:o[0],y:o[1]};let x,f,g,v,d={x:y[0],y:y[1]},m=Math.abs(n.x-p.x),M=Math.abs(n.y-p.y),b=(m+M)/2*i;switch(u){case"L":s=0===M||M<b&&m>b?{type:"H",values:[y[0]]}:0===m||M>b&&m<b?{type:"V",values:[y[1]]}:a;break;case"Q":if("Q"!==c){p={x:o[0],y:o[1]},r.push(a);continue}let e={x:h.values[0],y:h.values[1]};v={x:2*p.x-e.x,y:2*p.y-e.y},x=Math.abs(d.x-v.x),f=Math.abs(d.y-v.y),g=(x+f)/2,s=g<b?{type:"T",values:[n.x,n.y]}:a;break;case"C":let t={x:y[2],y:y[3]};if("C"!==c){r.push(a),p={x:o[0],y:o[1]};continue}let l={x:h.values[2],y:h.values[3]};v={x:2*p.x-l.x,y:2*p.y-l.y},x=Math.abs(d.x-v.x),f=Math.abs(d.y-v.y),g=(x+f)/2,s=g<b?{type:"S",values:[t.x,t.y,n.x,n.y]}:a;break;default:s={type:u,values:y}}(a.decimals||0===a.decimals)&&(s.decimals=a.decimals),t>-1&&(s.values=s.values.map(e=>+e.toFixed(t))),p={x:o[0],y:o[1]},r.push(s)}return r}(e)),e=U(e,a),l&&(e=function(e,t=-1){return X(e,!0,t)}(e)),a>-1&&(e=U(e,a)),e}function W(e,t){Array.isArray(e)&&(e={x:e[0],y:e[1]});let l={x:e.x+2/3*(t[0]-e.x),y:e.y+2/3*(t[1]-e.y)},a={x:t[2]+2/3*(t[0]-t[2]),y:t[3]+2/3*(t[1]-t[3])};return{type:"C",values:[l.x,l.y,a.x,a.y,t[2],t[3]]}}function X(e,t=!1,l=-1){l>=0&&(e[0].values=e[0].values.map(e=>+e.toFixed(l)));let a=e[0].values,s=a[0],n=a[1],r=s,p=n;for(let a=1,i=e.length;a<i;a++){let i=e[a],{type:u,values:y}=i,o=t?u.toLowerCase():u.toUpperCase();if(u!==o)switch(u=o,i.type=u,u){case"a":case"A":y[5]=t?y[5]-s:y[5]+s,y[6]=t?y[6]-n:y[6]+n;break;case"v":case"V":y[0]=t?y[0]-n:y[0]+n;break;case"h":case"H":y[0]=t?y[0]-s:y[0]+s;break;case"m":case"M":t?(y[0]-=s,y[1]-=n):(y[0]+=s,y[1]+=n),r=t?y[0]+s:y[0],p=t?y[1]+n:y[1];break;default:if(y.length)for(let e=0;e<y.length;e++)y[e]=t?y[e]-(e%2?n:s):y[e]+(e%2?n:s)}let h=y.length;switch(u){case"z":case"Z":s=r,n=p;break;case"h":case"H":s=t?s+y[0]:y[0];break;case"v":case"V":n=t?n+y[0]:y[0];break;case"m":case"M":r=y[h-2]+(t?s:0),p=y[h-1]+(t?n:0);default:s=y[h-2]+(t?s:0),n=y[h-1]+(t?n:0)}l>=0&&(i.values=i.values.map(e=>+e.toFixed(l)))}return e}function Y(e,t=-1){return X(e,!1,t)}function G(e,t,l=1){const a=2*Math.PI;let[s,n,r,p,i,u,y]=t;if(0===s||0===n)return[];let o=r?r*a/360:0,h=o?Math.sin(o):0,c=o?Math.cos(o):1,x=c*(e.x-u)/2+h*(e.y-y)/2,f=-h*(e.x-u)/2+c*(e.y-y)/2;if(0===x&&0===f)return[];s=Math.abs(s),n=Math.abs(n);let g=x*x/(s*s)+f*f/(n*n);if(g>1){let e=Math.sqrt(g);s*=e,n*=e}let v=s*s,d=s===n?v:n*n,m=x*x,M=f*f,b=v*d-v*M-d*m;b<=0?b=0:(b/=v*M+d*m,b=Math.sqrt(b)*(p===i?-1:1));let A=b?b*s/n*f:0,C=b?b*-n/s*x:0,w=c*A-h*C+(e.x+u)/2,L=h*A+c*C+(e.y+y)/2,P=(x-A)/s,k=(f-C)/n,S=(-x-A)/s,$=(-f-C)/n;const F=(e,t,l,a)=>{let s=+(e*l+t*a).toFixed(9);return 1===s||-1===s?1===s?0:Math.PI:(s=s>1?1:s<-1?-1:s,(e*a-t*l<0?-1:1)*Math.acos(s))};let I=F(1,0,P,k),E=F(P,k,S,$);0===i&&E>0?E-=2*Math.PI:1===i&&E<0&&(E+=2*Math.PI);let z=(+(Math.abs(E)/(a/4)).toFixed(0)||1)*l;E/=z;let Q=[];const T=1.5707963267948966,q=.551785;let D=E===T?q:E===-T?-q:4/3*Math.tan(E/4),B=E?Math.cos(E):1,j=E?Math.sin(E):0;const N=(e,t,l,a,s)=>{let n=e!=t?Math.cos(e):a,r=e!=t?Math.sin(e):s,p=Math.cos(e+t),i=Math.sin(e+t);return[{x:n-r*l,y:r+n*l},{x:p+i*l,y:i-p*l},{x:p,y:i}]};for(let e=0;e<z;e++){let e={type:"C",values:[]};N(I,E,D,B,j).forEach(t=>{let l=t.x*s,a=t.y*n;e.values.push(c*l-h*a+w,h*l+c*a+L)}),Q.push(e),I+=E}return Q}function K(e,t,l,a,s=7.5){let n={type:"C",values:[t.x,t.y,l.x,l.y,a.x,a.y]},r=0,p=!1,i=m(e,t,!0),u=m(a,l,!0),y=180*Math.abs(i-u)/Math.PI;if(Math.abs(y%180-90)<3){let i=M(e,t,a,l,!1);if(i){let u=b(e,i),y=b(a,i),o=+Math.max(u,y).toFixed(8),h=+Math.min(u,y).toFixed(8),c=h,x=o,f=j([e,t,l,a])<0?0:1,g=Math.abs(a.x-e.x)>Math.abs(a.y-e.y);100/c*Math.abs(c-x)<5&&(c=o,x=c),g&&(c=o,x=h);let v=B([{type:"M",values:[e.x,e.y]},{type:"C",values:[t.x,t.y,l.x,l.y,a.x,a.y]}]),d={type:"A",values:[c,x,0,0,f,a.x,a.y]};r=Math.PI*(c*x)/4,r-=Math.abs(j([e,a,i])),function(e,t){let l=Math.abs(e-t);return Math.abs(100-100/e*(e+l))}(v,r)<s&&(p=!0,n=d)}}return{com:n,isArc:p,area:r}}function _(e){let t,l=[[]],a=0,s=[[]],n={x:e[0].values[0],y:e[0].values[1]};for(let r=0,p=e.length;r<p;r++){let p=e[r],{type:i,values:u}=p;if("A"===i){let i=e[r-1].values.slice(-2);n={x:i[0],y:i[1]};let[y,o,h,c,x,f,g]=u,v=100/y*Math.abs(y-o)<5;t={x:u[5],y:u[6]},p.p0=n,p.p=t,p.circular=v;let d=e[r+1];if(!l[a].length&&d&&"A"===d.type&&(l[a].push(p),s[a].push(r)),d&&"A"===d.type){let[e,p,i,u,h,c,x]=d.values,f=y!=e?100/y*Math.abs(y-e):0,g=o!=p?100/o*Math.abs(o-p):0;t={x:d.values[5],y:d.values[6]},d.p0=n,d.p=t,f<5&&g<5?(l[a].push(d),s[a].push(r+1)):(l.push([]),s.push([]),a++)}else l.push([]),s.push([]),a++}}if(!s.length)return e;l=l.filter(e=>e.length),s=s.filter(e=>e.length);for(let t=l.length-1;t>=0;t--){const a=l[t],n=s[t][0],r=a.length;let p=0,i=0;a.forEach(({values:e})=>{const[t,l]=e;p+=t,i+=l}),p/=r,i/=r;let u=100/p*Math.abs(p-i)<5;u&&(p=(p+i)/2,i=p);let y=e[n-1].values.slice(-2);if(y[0],y[1],4===r){let[t,l,s,y,o,h,c]=a[1].values,[,,,,,x,f]=a[3].values;u&&(p=1,i=1);let g={type:"A",values:[p,i,s,y,o,h,c]},v={type:"A",values:[p,i,s,y,o,x,f]};e.splice(n,r,g,v)}else if(3===r){let[t,l,s,u,y,o,h]=a[0].values,[c,x,,,,f,g]=a[2].values;u=1;let v={type:"A",values:[p,i,s,u,y,f,g]};e.splice(n,r,v)}else if(2===r){let[t,l,s,y,o,h,c]=a[0].values,[x,f,,,,g,v]=a[1].values;u&&(p=1,i=1,s=0);let{p0:d,p:m}=a[0],[M,b]=[a[1].p0,a[1].p];if(d.x!==b.x||d.y!==b.y){let t={type:"A",values:[p,i,s,y,o,g,v]};e.splice(n,r,t)}}}return e}function ee(e=[],{toAbsolute:t=!0,toLonghands:l=!0,quadraticToCubic:a=!1,arcToCubic:s=!1,arcAccuracy:n=2}={},{hasRelatives:r=!0,hasShorthands:p=!0,hasQuadratics:i=!0,hasArcs:u=!0,testTypes:y=!1}={}){if(y){let t=Array.from(new Set(e.map(e=>e.type))).join("");r=/[lcqamts]/gi.test(t),i=/[qt]/gi.test(t),u=/[a]/gi.test(t),p=/[vhst]/gi.test(t),isPoly=/[mlz]/gi.test(t)}return(i&&a||u&&s)&&(l=!0,t=!0),r&&t&&(e=X(e,!1)),p&&l&&(e=function(e,t=-1,l=!0){let a=!1;if(l){let t=e.map(e=>e.type).join(""),l=/[hstv]/gi.test(t);if(a=/[astvqmhlc]/g.test(t),!l)return e}let s=[],n={type:"M",values:(e=l&&a?Y(e,t):e)[0].values};s.push(n);for(let l=1,a=e.length;l<a;l++){let a,r,p,i,u,y,o,h,c=e[l],{type:x,values:f}=c,g=f.length,v=n.values,d=v.length,[m,M]=[f[g-2],f[g-1]],[b,A]=[v[d-2],v[d-1]];switch(x){case"H":n={type:"L",values:[f[0],A]};break;case"V":n={type:"L",values:[b,f[0]]};break;case"T":[a,r]=[v[0],v[1]],[b,A]=[v[d-2],v[d-1]],p=b+(b-a),i=A+(A-r),n={type:"Q",values:[p,i,m,M]};break;case"S":[a,r]=[v[0],v[1]],[b,A]=[v[d-2],v[d-1]],[o,h]=d>2&&"A"!==n.type?[v[2],v[3]]:[b,A],p=2*b-o,i=2*A-h,u=f[0],y=f[1],n={type:"C",values:[p,i,u,y,m,M]};break;default:n={type:x,values:f}}t>-1&&(n.values=n.values.map(e=>+e.toFixed(t))),s.push(n)}return s}(e,-1,!1)),u&&s&&(e=function(e,{arcAccuracy:t=1}={}){let l=[e[0]];for(let a=1,s=e.length;a<s;a++){let s=e[a],n=e[a-1].values,r=n.length,p={x:n[r-2],y:n[r-1]};"A"===s.type?G(p,s.values,t).forEach(e=>{l.push(e)}):l.push(s)}return l}(e,n)),i&&a&&(e=function(e){let t=[e[0]];for(let l=1,a=e.length;l<a;l++){let a=e[l],s=e[l-1].values,n=s.length,r={x:s[n-2],y:s[n-1]};"Q"===a.type?t.push(W(r,a.values)):t.push(a)}return t}(e)),e}function te(e,{toAbsolute:t=!0,toLonghands:l=!0,quadraticToCubic:a=!1,arcToCubic:s=!1,arcAccuracy:n=4}={}){let r=function(e,t=!0){if(e=e.trim(),""===e)return{pathData:[],hasRelatives:!1,hasShorthands:!1,hasQuadratics:!1,hasArcs:!1};const l=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),a=e=>32===e||44===e||10===e||13===e||8232===e||8233===e||9===e||11===e||12===e||160===e||e>=5760&&l.has(e);let s,n=0,r=e.length,p="",i=[],u=-1,y="",o=!1,h=0,c=0,x=0,f=!1,g=new Set([]),v=[];const d=()=>{f&&("M"===p?p="L":"m"===p&&(p="l"),i.push({type:p,values:[]}),u++,c=0,f=!1)},m=(e=!1)=>{(e?h>0:""!==y)&&(t&&-1===u&&(s="Pathdata must start with M command",v.push(s),p="M",i.push({type:p,values:[]}),x=2,c=0,u++),"A"===p||"a"===p?(y=M(),i[u].values.push(...y)):(t&&y[1]&&"."!==y[1]&&"0"===y[0]&&(s=`${u}. command: Leading zeros not valid: ${y}`,v.push(s)),i[u].values.push(+y)),c++,y="",h=0,f=c>=x)},M=()=>{let e=y.length,t=!1;return 3===c&&2===e||4===c&&e>1?(y=[+y[0],+y[1]],t=!0,c++):3===c&&e>=3&&(y=[+y[0],+y[1],+y.substring(2)],t=!0,c+=2),t?y:[+y]},b=()=>{if(u>0){let e=i[u].values.length;if(e&&e<x||e&&e>x||("z"===p||"Z"===p)&&e>0){s=`${u}. command of type "${p}": ${x-e} values too few - ${x} expected`,v[v.length-1]!==s&&v.push(s)}}};let A=!1,C=!1,w=!1;for(;n<r;){let l=e.charCodeAt(n),r=l>47&&l<58;if(r||(A=101===l||69===l,C=45===l||43===l,w=46===l),r||C||w||A){if(o||45!==l&&46!==l)d();else{let e=46===l;m(e),d(),e&&h++}y+=e[n],o=A,n++}else if((l<48||l>5759)&&a(l))m(),n++;else{if(l>64){if(!le.has(l)){s=`${u}. command "${e[n]}" is not a valid type`,v.push(s),n++;continue}""!==y&&(i[u].values.push(+y),c++,y=""),t&&b(),p=e[n],x=ae[l];let a="M"===p||"m"===p,r=u>0&&("z"===i[u].type||"Z"===i[u].type);g.add(p),r&&!a&&(i.push({type:"m",values:[0,0]}),u++),i.push({type:p,values:[]}),u++,h=0,c=0,f=!1,n++;continue}r||(s=`${u}. ${e[n]} is not a valid separarator or token`,v.push(s),y=""),n++}}m(),t&&b();if(t&&v.length){if(s="Invalid path data:\n"+v.join("\n"),"log"!==t)throw new Error(s);console.log(s)}i[0].type="M";let L=Array.from(g).join(""),P=/[lcqamts]/g.test(L),k=/[vhst]/gi.test(L),S=/[a]/gi.test(L),$=/[qt]/gi.test(L);return{pathData:i,hasRelatives:P,hasShorthands:k,hasQuadratics:$,hasArcs:S}}(e),{hasRelatives:p,hasShorthands:i,hasQuadratics:u,hasArcs:y}=r,o=r.pathData;return o=ee(o,{toAbsolute:t,toLonghands:l,quadraticToCubic:a,arcToCubic:s,arcAccuracy:n},{hasRelatives:p,hasShorthands:i,hasQuadratics:u,hasArcs:y}),o}const le=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),ae=new Uint8Array(128);function se(e){if("path"===e.nodeName.toLowerCase())return e;let t=function(e,t=!1){let l,a,s,n,r,p,i,u,y,o,h,c,x,f,g,v,d=[],m=e.nodeName;const M=(e,t=9)=>{const l="svg"!==e.nodeName?e.closest("svg"):e,a=e=>{if(null===e)return 0;let l=96,a=e.match(/([a-z]+)/gi);a=a?a[0]:"";let s,n=parseFloat(e);if(!a)return n;switch(a){case"in":s=l;break;case"pt":s=1/72*96;break;case"cm":s=1/2.54*96;break;case"mm":s=1/2.54*96/10;break;case"em":case"rem":s=16;break;default:s=1}return+(n*s).toFixed(t)};let s=l.getAttribute("width");s=s?a(s):300;let n=l.getAttribute("height");n=s?a(n):150;let r=l.getAttribute("viewBox");r=r?r.replace(/,/g," ").split(" ").filter(Boolean).map(e=>+e):[];let p=r.length?r[2]:s,i=r.length?r[3]:n,u=p/100,y=i/100,o=Math.sqrt((Math.pow(u,2)+Math.pow(y,2))/2),h=["x","width","x1","x2","rx","cx","r"],c=["y","height","y1","y2","ry","cy"];e.getAttributeNames().forEach(t=>{let l=e.getAttribute(t),s=l;if(h.includes(t)||c.includes(t)){let n=h.includes(t)?u:y;n="r"===t&&p!=i?o:n;let r=l.match(/([a-z|%]+)/gi);r=r?r[0]:"",s=l.includes("%")?parseFloat(l)*n:a(l),e.setAttribute(t,+s)}})};M(e);const b=t=>(l={},t.forEach(t=>{l[t]=+e.getAttribute(t)}),l);switch(m){case"path":s=e.getAttribute("d"),d=te(s);break;case"rect":a=["x","y","width","height","rx","ry"],({x:n,y:r,width:p,height:i,rx:y,ry:o}=b(a)),y||o?(y>p/2&&(y=p/2),o>i/2&&(o=i/2),d=[{type:"M",values:[n+y,r]},{type:"L",values:[n+p-y,r]},{type:"A",values:[y,o,0,0,1,n+p,r+o]},{type:"L",values:[n+p,r+i-o]},{type:"A",values:[y,o,0,0,1,n+p-y,r+i]},{type:"L",values:[n+y,r+i]},{type:"A",values:[y,o,0,0,1,n,r+i-o]},{type:"L",values:[n,r+o]},{type:"A",values:[y,o,0,0,1,n+y,r]},{type:"Z",values:[]}]):d=[{type:"M",values:[n,r]},{type:"L",values:[n+p,r]},{type:"L",values:[n+p,r+i]},{type:"L",values:[n,r+i]},{type:"Z",values:[]}];break;case"circle":case"ellipse":a=["cx","cy","rx","ry","r"],({cx:h,cy:c,r:u,rx:y,ry:o}=b(a)),"circle"===m?(y=u,o=u):(y=y||u,o=o||u),d=[{type:"M",values:[h+y,c]},{type:"A",values:[y,o,0,1,1,h-y,c]},{type:"A",values:[y,o,0,1,1,h+y,c]}];break;case"line":a=["x1","y1","x2","y2"],({x1:x,y1:g,x2:f,y2:v}=b(a)),d=[{type:"M",values:[x,g]},{type:"L",values:[f,v]}];break;case"polygon":case"polyline":let t=e.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let e=0;e<t.length;e+=2)d.push({type:0===e?"M":"L",values:[+t[e],+t[e+1]]});"polygon"===m&&d.push({type:"Z",values:[]})}return t?function(e){return e.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}(d):d}(e),l=t.map(e=>`${e.type} ${e.values} `).join(" "),a=[...e.attributes].map(e=>e.name),s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",l);let n=["x","y","cx","cy","dx","dy","r","rx","ry","width","height","points"];return a.forEach(t=>{if(!n.includes(t)){let l=e.getAttribute(t);s.setAttribute(t,l)}}),s}function ne(e,t=1,l=!0){let a=[e[0]],s={x:e[0].values[0],y:e[0].values[1]},n=s,r=s;e[e.length-1].type.toLowerCase();for(let p=1,i=e.length;p<i;p++){let u=e[p-1],y=e[p],o=e[p+1]||e[i-1],h="z"===o.type.toLowerCase()?s:{x:o.values[o.values.length-2],y:o.values[o.values.length-1]},{type:c,values:x}=y,f=x.slice(-2);r="Z"!==c?{x:f[0],y:f[1]}:s;let g=j([n,r,h],!0);A(n,r),A(r,h);let v=g<A(n,h)/200*t,d=!1;if(l||"C"!==c||(v=!1),l&&("C"===c||"Q"===c)){d=H(n,"C"===c?[{x:x[0],y:x[1]},{x:x[2],y:x[3]}]:"Q"===c?[{x:x[0],y:x[1]}]:[],r),d&&p<i-1&&"C"!==u.type&&(c="L",y.type="L",y.values=f)}n=r,v&&p<i-1&&("L"===c||l&&d)||("M"===c?(s=r,n=s):"Z"===c&&(n=s),a.push(y))}return a}function re(e){let t={x:e[0].values[0],y:e[0].values[1]},l=t,a=[e[0]];for(let s=1,n=e.length;s<n;s++){let n=e[s],{type:r,values:p}=n,i=p.length;if(l={x:p[i-2],y:p[i-1]},"L"!==r||l.x!==t.x||l.y!==t.y){if("l"===r||"v"===r||"h"===r){if("l"===r?"00"===p.join(""):0===p[0])continue}a.push(n),t=l}}return a}function pe(e){let t=e.length;if(!("z"===e[t-1].type.toLowerCase()))return e;let l=0,a=[];for(let l=0;l<t;l++){let t=e[l],{type:s,values:n}=t,r=n.length;if(r){let e={type:s,x:n[r-2],y:n[r-1],index:0};e.index=l,a.push(e)}}return a=a.sort((e,t)=>+e.y.toFixed(3)-+t.y.toFixed(3)),l=a[0].index,l?ue(e,l):e}function ie(e,t=!0,l=!0){let a=[],s=e.length,n={x:+e[0].values[0].toFixed(8),y:+e[0].values[1].toFixed(8)},r="z"===e[s-1].type.toLowerCase(),p=e.filter(e=>"L"===e.type),i=e[s-2],u=i.type,y=i.values.slice(-2).map(e=>+e.toFixed(8)),o=y[0]===n.x&&y[1]===n.y,h="L"!==e[1].type&&(!o||"L"===u);if(h=!1,!r)return e;let c=0;{let t=[];for(let l=0,a=e.length;l<a;l++){let a=e[l],{type:s,values:n}=a;if(n.length){let a=n.slice(-2),r=e[l-1]&&"L"===e[l-1].type,p=e[l+1]&&"L"===e[l+1].type,i=e[l-1]?e[l-1].type.toUpperCase():null,u=e[l+1]?e[l+1].type.toUpperCase():null,y={type:s,x:a[0],y:a[1],dist:0,index:0,prevL:r,nextL:p,prevCom:i,nextCom:u};y.index=l,t.push(y)}}if(p.length){let e=t.filter(e=>"L"!==e.type&&"M"!==e.type&&e.prevCom&&"L"===e.prevCom||"M"===e.prevCom&&"L"===u).sort((e,t)=>e.y-t.y||e.x-t.x)[0];c=e?e.index-1:0}else t=t.sort((e,t)=>+e.y.toFixed(1)-+t.y.toFixed(1)||e.x-t.x),c=t[0].index;e=c?ue(e,c):e}return n={x:+e[0].values[0].toFixed(8),y:+e[0].values[1].toFixed(7)},s=e.length,i=e[s-2],u=i.type,y=i.values.slice(-2).map(e=>+e.toFixed(8)),o="L"===u&&y[0]===n.x&&y[1]===n.y,t&&o&&e.splice(s-2,1),a.push(...e),a}function ue(e,t){let l=0,a="z"===e[e.length-1].type.toLowerCase();if(!a||t<1||e.length<3)return e;let s=a?1:0;!function(e){let t=e.length,l="z"===e[t-1].type.toLowerCase(),a=e[0],[s,n]=[a.values[0],a.values[1]].map(e=>+e.toFixed(8)),r=l?e[t-2]:e[t-1],p=r.values.length,[i,u]=[r.values[p-2],r.values[p-1]].map(e=>+e.toFixed(8));!l||s==i&&n==u||(e.pop(),e.push({type:"L",values:[s,n]},{type:"Z",values:[]}))}(e),l=t+1<e.length-1?t+1:e.length-1-s;let n,r,p=e.slice(l),i=e.slice(0,l);return i.shift(),n=i[i.length-1].values||[],r=[n[n.length-2],n[n.length-1]],s&&(p.pop(),i.push({type:"Z",values:[]})),e=[{type:"M",values:r},...p,...i]}function ye(e,{arcToCubic:t=!1,quadraticToCubic:l=!1,toClockwise:a=!1,returnD:s=!1}={}){const n=(e,t)=>{let l=[],a=[];if("A"!==e){for(let e=0;e<t.length;e+=2)l.push([t[e],t[e+1]]);a=l.pop(),l.reverse()}else{let e=0==t[4]?1:0;l=[t[0],t[1],t[2],t[3],e],a=[t[5],t[6]]}return{controlPoints:l,endPoints:a}};let r=[],p="z"===e[e.length-1].type.toLowerCase();p&&(e=(e=>{let t="z"===e[e.length-1].type.toLowerCase(),l=e[0],[a,s]=[l.values[0],l.values[1]],n=t?e[e.length-2]:e[e.length-1],[r,p]=[n.values[n.values.length-2],n.values[n.values.length-1]];return!t||a==r&&s==p||(e.pop(),e.push({type:"L",values:[a,s]},{type:"Z",values:[]})),e})(e),e.pop());let i=e[e.length-1].values,u=i.length,y=p?e[0]:{type:"M",values:[i[u-2],i[u-1]]};r.push(y),e.reverse();for(let t=1;t<e.length;t++){let l=e[t],a=l.type,s=l.values,p=e[t-1],i=p.type,u=[];u=[n(i,p.values).controlPoints,n(a,s).endPoints].flat(),r.push({type:i,values:u.flat()})}return p&&r.push({type:"z",values:[]}),r}function oe(e,{threshold:t=null,tolerance:l=1}={}){if(!t){let l=function(e){let t=1/0,l=-1/0,a=1/0,s=-1/0;const n=e=>{e.x<t&&(t=e.x),e.x>l&&(l=e.x),e.y<a&&(a=e.y),e.y>s&&(s=e.y)};for(let t=0;t<e.length;t++){let l=e[t],{type:a,values:s}=l,r=s.length,p=(e[t-1]?e[t-1]:e[t]).values,i=p.length;if(r){let e={x:p[i-2],y:p[i-1]},t={x:s[r-2],y:s[r-1]};if(n(t),"C"===a||"Q"===a){let l={x:s[0],y:s[1]},r="C"===a?{x:s[2],y:s[3]}:l,p="C"===a?[e,l,r,t]:[e,l,t];S(p).forEach(e=>{let t=w(p,e);n(t)})}else"A"===a&&$(e,s).forEach(e=>{n(e)})}}return{x:t,y:a,width:l-t,height:s-a}}(e);t=(l.width+l.height)/2*.05}let a=e.length;for(let s=0;s<a;s++){let a=e[s],{type:n,values:r,extreme:p,corner:i=!1,dimA:u,p0:y,p:o}=a,h=e[s+1]?e[s+1]:null;if(h&&"C"===n&&"C"===h.type&&p&&!i){if(F(o,h.p)<t){let n,r=a.cp1.x-h.p0.x,p=a.cp1.y-h.p0.y,i=Math.abs(p)<Math.abs(r),u=h.p,y=1;if(h.extreme){i?(y=Math.abs(Math.abs(h.cp2.x-h.p.x)/Math.abs(a.cp2.x-a.p.x)),n=C(h.p,a.cp2,1+y),a.cp2.x=n.x):(y=Math.abs(Math.abs(h.cp2.y-h.p.y)/Math.abs(a.cp2.y-a.p.y)),n=C(h.p,a.cp2,1+y),a.cp2.y=n.y),e[s+1].values=[a.cp1.x,a.cp1.y,a.cp2.x,a.cp2.y,u.x,u.y],e[s+1].cp1=a.cp1,e[s+1].cp2=a.cp2,e[s+1].p0=a.p0,e[s+1].p=u,e[s+1].extreme=!0,e[s]=null;continue}{let a=e[s+2]?e[s+2]:null;if(!a&&"C"!==a.type)continue;let n=Z(h,a,t,l,!1);if(1===n.length){e[s+1]=null,n=n[0],e[s+2].values=[n.cp1.x,n.cp1.y,n.cp2.x,n.cp2.y,n.p.x,n.p.y],e[s+2].cp1=n.cp1,e[s+2].cp2=n.cp2,e[s+2].p0=n.p0,e[s+2].p=n.p,e[s+2].extreme=n.extreme,s++;continue}}}}}a=(e=e.filter(Boolean)).length;let s="z"===e[a-1].type.toLowerCase()?a-2:a-1,n=e[s],r=e[s-1]||null,p={x:e[0].values[0],y:e[0].values[1]},i=n.values.slice(-2),u=+i[0].toFixed(8)===+p.x.toFixed(8)&&+i[1].toFixed(8)===+p.y.toFixed(8),y="C"===e[1].type&&e[1].extreme?e[1]:null,o=F(n.p0,n.p)<t;if(r&&"C"===r.type&&o&&u&&y){Math.abs(y.cp1.x-p.x),Math.abs(y.cp1.y-p.y);let a=Z(r,n,t,l,!1);console.log("comEx",a),1===a.length&&(e[s-1]=a[0],e[s]=null,e=e.filter(Boolean))}return e}function he(e){let t=(new XMLSerializer).serializeToString(e);return t=t.replace(/\t/g,"").replace(/[\n\r|]/g,"\n").replace(/\n\s*\n/g,"\n").replace(/ +/g," "),t}function ce(e="",{getObject:t=!1,toAbsolute:l=!0,toRelative:a=!0,toShorthands:s=!0,quadraticToCubic:n=!0,arcToCubic:r=!1,cubicToArc:p=!1,simplifyBezier:i=!0,optimizeOrder:u=!0,removeColinear:y=!0,flatBezierToLinetos:o=!0,revertToQuadratics:h=!0,refineExtremes:c=!0,keepExtremes:x=!0,keepCorners:f=!0,extrapolateDominant:g=!0,keepInflections:v=!1,addExtremes:d=!1,removeOrphanSubpaths:m=!1,decimals:M=3,autoAccuracy:b=!0,minifyD:A=0,tolerance:C=1,reverse:w=!1,mergePaths:L=!1,removeHidden:P=!0,removeUnused:k=!0,shapesToPaths:S=!0}={}){C=Math.max(.1,C);let $=function(e){let t="string";if(Array.isArray(e))return"array";if("string"==typeof e){let l=(e=e.trim()).includes("<svg")&&e.includes("</svg"),a=e.startsWith("M")||e.startsWith("m"),s=!isNaN(e.substring(0,1))&&!isNaN(e.substring(e.length-1,e.length));if(l)t="svgMarkup";else if(a)t="pathDataString";else if(s)t="polyString";else{let l=/^(file:|https?:\/\/|\/|\.\/|\.\.\/)/.test(e),a=e.startsWith("data:image");t=l||a?"url":"string"}return t}return t=typeof e,(e.constructor.name||t).toLowerCase()}(e),E="",z=0,T=0,q=0,D={},B="",j="svgMarkup"===$?1:0,Z=[];if(z=new Blob([e]).size,j){if(E=function(e,{returnDom:t=!1,removeHidden:l=!0,removeUnused:a=!0}={}){e=(e=e.replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/<!DOCTYPE[\s\S]*?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").trim()).replaceAll("xlink:href=","href=");let s=(new DOMParser).parseFromString(e,"text/html").querySelector("svg");!function(e,t=["viewBox","xmlns","width","height","id","class"]){[...e.attributes].map(e=>e.name).forEach(l=>{t.includes(l)||e.removeAttribute(l)})}(s,["viewBox","xmlns","width","height","id","class","fill","stroke","stroke-width"]);let n=["metadata","script"];if(s.querySelectorAll("*").forEach(e=>{let t=e.nodeName,a=e.getAttribute("style")||"",s=!!a&&a.trim().includes("display:none"),r=e.getAttribute("display")&&"none"===e.getAttribute("display")||s;t.includes(":")||n.includes(t)||l&&r?e.remove():function(e){[...e.attributes].map(e=>e.name).forEach(t=>{t.includes(":")&&e.removeAttribute(t)})}(e)}),t)return s;let r=he(s);return console.log(r),r}(e,{returnDom:!0,removeHidden:P,removeUnused:k}),S){E.querySelectorAll("polygon, polyline, line, rect, circle, ellipse").forEach(e=>{let t=se(e);e.replaceWith(t)})}E.querySelectorAll("path").forEach(e=>{Z.push({d:e.getAttribute("d"),el:e})})}else"pathDataString"===$?B=e:"polyString"===$&&(B="M"+e),Z.push({d:B,el:null});let O={toRelative:a,toShorthands:s,decimals:M},H=[];if(Z.forEach(e=>{let{d:t,el:a}=e,s=te(t,{quadraticToCubic:n,toAbsolute:l,arcToCubic:r}),P=s.length,k=s;m&&(k=function(e){for(let t=0,l=e.length;t<l;t++){let l=e[t];if(!l)continue;let{type:a=null,values:s=[]}=l,n=e[t+1]?e[t+1]:null;"M"!==a&&"m"!==a||n&&(!n||"Z"!==n.type&&"z"!==n.type)||(e[t]=null,e[t+1]=null)}return e.filter(Boolean)}(k));let S=I(k),$=[];for(let e=0,t=S.length;e<t;e++){let t=S[e];w&&(t=ye(t)),y&&(t=re(t)),d&&(t=Q(t,0,1)),u&&(t=pe(t)),y&&(t=ne(t,C,o));let l=R(t),{pathData:a,bb:s,dimA:n}=l;if(a=i?xe(a,{simplifyBezier:i,keepInflections:v,keepExtremes:x,keepCorners:f,extrapolateDominant:g,revertToQuadratics:h,tolerance:C,reverse:w}):a,c){let e=(s.width+s.height)/2*.05;a=oe(a,{threshold:e,tolerance:C})}if(p){let e=3;a.forEach((t,l)=>{let{type:s,values:n,p0:r,cp1:p=null,cp2:i=null,p:u=null}=t;if("C"===s){let t=K(r,p,i,u,e);t.isArc&&(a[l]=t.com)}}),a=_(a)}h&&a.forEach((e,t)=>{let{type:l,values:s,p0:n,cp1:r=null,cp2:p=null,p:i=null}=e;if("C"===l){let l=V(n,r,p,i);"Q"===l.type&&(l.extreme=e.extreme,l.corner=e.corner,l.dimA=e.dimA,a[t]=l)}}),u&&(a=ie(a)),$.push(a)}if(k=$.flat(),a&&L)H.push(...k);else{b&&(M=function(e){let t={x:e[0].values[0],y:e[0].values[1]},l=t,a=t;e[0].decimals=0;let s=new Set;for(let n=0,r=e.length;n<r;n++){let r=e[n],{type:p,values:i}=r,u=i.length?i.slice(-2):[t.x,t.y];a={x:u[0],y:u[1]};let y=r.dimA?+r.dimA.toFixed(8):"M"!==p?+F(l,a).toFixed(8):0;y&&s.add(y),"M"===p&&(t=a),l=a}let n=Array.from(s).sort(),r=Math.ceil(n.length/10);n=n.slice(0,r);let p=n.reduce((e,t)=>e+t,0)/r,i=p>60?0:Math.floor(40/p).toString().length;return Math.min(Math.max(0,i),8)}(k),O.decimals=M),k=J(k,O),k=re(k);let t=k.length,l=N(k,A);T=new Blob([l]).size,q=+(100/z*T).toFixed(2),e.d=l,e.report={original:P,new:t,saved:P-t,compression:q,decimals:M},a&&a.setAttribute("d",l)}}),j){if(H.length){let e=J(H,O);e=re(e);let t=N(e,A);Z[0].el.setAttribute("d",t);for(let e=1;e<Z.length;e++){let t=Z[e].el;t&&t.remove()}!function(e){e.querySelectorAll("g, defs").forEach(e=>{e.children.length||e.remove()})}(E)}E=he(E),T=new Blob([E]).size,q=+(100/z*T).toFixed(2),z=+(z/1024).toFixed(3),T=+(T/1024).toFixed(3),D={svgSize:z,svgSizeOpt:T,compression:q}}else({d:B,report:D}=Z[0]);return t?{svg:E,d:B,report:D,inputType:$,mode:j}:B||E}function xe(e,{keepExtremes:t=!0,keepInflections:l=!0,keepCorners:a=!0,extrapolateDominant:s=!0,tolerance:n=1,reverse:r=!1}={}){let p=[e[0]];for(let r=2,i=e.length;i&&r<=i;r++){let u=e[r-1],y=r<i?e[r]:null,o=y?.type||null,h=u?.directionChange||null,c=y?.directionChange||null,{type:x,values:f,p0:g,p:v,cp1:d=null,cp2:m=null,extreme:M=!1,corner:b=!1,dimA:A=0}=u;if("C"===x&&"C"===o)if(l&&c||a&&b||!h&&t&&M)p.push(u);else{let o=O(u,y,s,n),h=0;if(1===o.length){u=o[0];let y=1;h+=u.error;for(let p=r+1;h<n&&p<i;p++){let r=e[p];if("C"!==r.type||l&&r.directionChange||a&&u.corner||t&&u.extreme)break;let i=O(u,r,s,n);1===i.length&&(h+=.5*i[0].error,y++),u=i[0]}p.push(u),r<i&&(r+=y)}else p.push(u)}else p.push(u)}return r&&(p=ye(p)),p}ae[77]=2,ae[109]=2,ae[65]=7,ae[97]=7,ae[67]=6,ae[99]=6,ae[76]=2,ae[108]=2,ae[81]=4,ae[113]=4,ae[83]=4,ae[115]=4,ae[84]=2,ae[116]=2,ae[72]=1,ae[104]=1,ae[86]=1,ae[118]=1,ae[90]=0,ae[122]=0;const{abs:fe,acos:ge,asin:ve,atan:de,atan2:me,ceil:Me,cos:be,exp:Ae,floor:Ce,log:we,hypot:Le,max:Pe,min:ke,pow:Se,random:$e,round:Fe,sin:Ie,sqrt:Ee,tan:ze,PI:Qe}=Math;"undefined"!=typeof window&&(window.svgPathSimplify=ce),exports.PI=Qe,exports.abs=fe,exports.acos=ge,exports.asin=ve,exports.atan=de,exports.atan2=me,exports.ceil=Me,exports.cos=be,exports.exp=Ae,exports.floor=Ce,exports.hypot=Le,exports.log=we,exports.max=Pe,exports.min=ke,exports.pow=Se,exports.random=$e,exports.round=Fe,exports.sin=Ie,exports.sqrt=Ee,exports.svgPathSimplify=ce,exports.tan=ze;
